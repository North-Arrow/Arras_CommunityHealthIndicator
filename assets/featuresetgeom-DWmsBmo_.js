import{n as l}from"./enum-C7bgjwD2.js";import{n as S}from"./TimeOnly-FYculqjT.js";import{J as w,o as J,U as s,g as m,B as u}from"./aiServices-B_hD2yW9.js";import{s as c,a as d}from"./SpatialFilter-Silvy6-W.js";import{a}from"./operatorsWorkerConnection-QyftTHtW.js";import"./MapPage-tXYKzu0N.js";import"./index-BJdkyBTf.js";import"./themeLevelStore-BNTVideh.js";import"./UnknownTimeZone-C38dkMEB.js";import"./Field-CZcKd7Nn.js";import"./fieldType-CyGteHin.js";import"./number-C16lctyZ.js";import"./arcadeUtils-9E8Lwu-u.js";import"./featureConversionUtils-BwODWraj.js";import"./OptimizedFeature-CKsL4Z1n.js";import"./memoryEstimations-DA3Qg7pf.js";import"./OptimizedFeatureSet-BR8EEvDc.js";import"./FieldsIndex-B-4GhKGA.js";import"./timeZoneUtils-2oC1zFf0.js";import"./WhereClause-DHoUze7R.js";import"./streamLayerUtils-DFlbJ4P1.js";import"./unitConversion-CubUfdkH.js";import"./uuid-_zoyEHEn.js";import"./isImageryGraphicOrigin-Ccuhb4eK.js";import"./isImageryTileGraphicOrigin-ZR-gBf9D.js";import"./rasterFieldUtils-BcEAq1j7.js";import"./workers-Bj2jNIAE.js";import"./Queue-CF0GgIOe.js";function o(i){return async(t,r,e)=>{if(J(e,2,2,t,r),(e=w(e))[0]===null&&e[1]===null)return!1;if(u(e[0])){if(s(e[1]))return new d({parentfeatureset:e[0],relation:i,relationGeom:e[1]});if(e[1]===null)return new c({parentfeatureset:e[0]});throw new l(t,"InvalidParameter",r)}if(s(e[0])){if(s(e[1])){switch(i){case"esriSpatialRelEnvelopeIntersects":{const f=S(e[0]),n=S(e[1]);return f!=null&&n!=null&&a("intersects",[f.toJSON(),n.toJSON()])}case"esriSpatialRelIntersects":return a("intersects",[e[0].toJSON(),e[1].toJSON()]);case"esriSpatialRelContains":return a("contains",[e[0].toJSON(),e[1].toJSON()]);case"esriSpatialRelOverlaps":return a("overlaps",[e[0].toJSON(),e[1].toJSON()]);case"esriSpatialRelWithin":return a("within",[e[0].toJSON(),e[1].toJSON()]);case"esriSpatialRelTouches":return a("touches",[e[0].toJSON(),e[1].toJSON()]);case"esriSpatialRelCrosses":return a("crosses",[e[0].toJSON(),e[1].toJSON()])}throw new l(t,"InvalidParameter",r)}if(u(e[1]))return new d({parentfeatureset:e[1],relation:i,relationGeom:e[0]});if(e[1]===null)return!1;throw new l(t,"InvalidParameter",r)}if(e[0]===null){if(u(e[1]))return new c({parentfeatureset:e[1]});if(s(e[1])||e[1]===null)return!1}throw new l(t,"InvalidParameter",r)}}function L(i){i.mode==="async"&&(i.functions.intersects=function(t,r){return i.standardFunctionAsync(t,r,o("esriSpatialRelIntersects"))},i.functions.envelopeintersects=function(t,r){return i.standardFunctionAsync(t,r,o("esriSpatialRelEnvelopeIntersects"))},i.signatures.push({name:"envelopeintersects",min:2,max:2}),i.functions.contains=function(t,r){return i.standardFunctionAsync(t,r,o("esriSpatialRelContains"))},i.functions.overlaps=function(t,r){return i.standardFunctionAsync(t,r,o("esriSpatialRelOverlaps"))},i.functions.within=function(t,r){return i.standardFunctionAsync(t,r,o("esriSpatialRelWithin"))},i.functions.touches=function(t,r){return i.standardFunctionAsync(t,r,o("esriSpatialRelTouches"))},i.functions.crosses=function(t,r){return i.standardFunctionAsync(t,r,o("esriSpatialRelCrosses"))},i.functions.relate=function(t,r){return i.standardFunctionAsync(t,r,async(e,f,n)=>{if(n=w(n),J(n,3,3,t,r),s(n[0])&&s(n[1]))return a("relate",[n[0].toJSON(),n[1].toJSON(),m(n[2])]);if(s(n[0])&&n[1]===null||s(n[1])&&n[0]===null)return!1;if(u(n[0])&&n[1]===null)return new c({parentfeatureset:n[0]});if(u(n[1])&&n[0]===null)return new c({parentfeatureset:n[1]});if(u(n[0])&&s(n[1]))return n[0].relate(n[1],m(n[2]));if(u(n[1])&&s(n[0]))return n[1].relate(n[0],m(n[2]));if(n[0]===null&&n[1]===null)return!1;throw new l(t,"InvalidParameter",r)})})}export{L as registerFunctions};
