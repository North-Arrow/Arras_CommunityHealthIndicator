const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/projectOperator-tidcIjle.js","assets/index-7PPb1Lqt.js","assets/index-RQ3x4ZQ-.css","assets/operatorProject-OdGiOwRr.js","assets/SimpleGeometryCursor-B92kdZ15.js","assets/MapPage-CPF73lPx.js","assets/themeLevelStore-BEZZTr5D.js","assets/MapPage-kSfHLSm1.css","assets/projectOperator-DUu4XfPO.js","assets/geographicTransformationUtils-D4gG9xc_.js"])))=>i.map(i=>d[i]);
import{_ as fn}from"./index-7PPb1Lqt.js";import{i as En,_ as b,z as en,A as Gn,gF as $,gG as D,gH as an,br as A,em as Qn,gI as dn,bt as hn,bB as mn,eY as ne,bc as ee,bd as te,be as ae,dJ as le,dK as se,b8 as re,cU as ie,c3 as oe,fM as ue,aZ as An,gJ as j,cA as _n,X as ce,a8 as fe,gK as pe,gL as de,S as pn,cg as he,a5 as vn,bw as x,dI as Pn,aK as me,c1 as ge,cI as $e,b9 as ye,cH as Me,s as Re,a9 as Zn}from"./MapPage-CPF73lPx.js";var gn;let S=gn=class extends En{constructor(n){super(n),this.isInverse=!1,this.wkt=null,this.wkid=null}getInverse(){return new gn({isInverse:!this.isInverse,wkid:this.wkid,wkt:this.wkt})}};b([en()],S.prototype,"isInverse",void 0),b([en()],S.prototype,"wkt",void 0),b([en()],S.prototype,"wkid",void 0),S=gn=b([Gn("esri.geometry.operators.support.GeographicTransformationStep")],S);var $n;let F=$n=class extends En{constructor(n){super(n),this.steps=[]}getInverse(){const n=new $n;for(let t=this.steps.length-1;t>=0;t--){const e=this.steps[t];n.steps.push(e.getInverse())}return n}};b([en({type:[S],nonNullable:!0})],F.prototype,"steps",void 0),F=$n=b([Gn("esri.geometry.operators.support.GeographicTransformation")],F);const I=$.radius,g=$.eccentricitySquared,we={a1:I*g,a2:I*g*I*g,a3:I*g*g/2,a4:I*g*I*g*2.5,a5:I*g+I*g*g/2,a6:1-g};$.radius,$.flattening,an.radius,an.flattening,D.radius,D.flattening,D.radius;const Ie={2:{5:f,7:null,9:null,10:f,1:V,6:null,8:null,0:null,3:O,11:T,2:f,4:E},5:{5:f,7:null,9:null,10:f,1:V,6:null,8:null,0:null,3:O,11:T,2:f,4:E},7:{5:null,7:f,9:null,10:f,1:null,6:Sn,8:null,0:null,3:null,11:null,2:null,4:null},9:{5:null,7:null,9:f,10:f,1:null,6:null,8:zn,0:null,3:null,11:null,2:null,4:null},3:{5:K,7:null,9:null,10:K,1:je,6:null,8:null,0:null,3:f,11:Pe,2:K,4:_e},4:{5:G,7:null,9:null,10:G,1:Ee,6:null,8:null,0:null,3:Ge,11:ke,2:G,4:f},1:{5:q,7:null,9:null,10:q,1:f,6:null,8:null,0:null,3:Te,11:ze,2:q,4:Le},6:{5:null,7:On,9:null,10:On,1:null,6:f,8:null,0:null,3:null,11:null,2:null,4:null},8:{5:null,7:null,9:bn,10:bn,1:null,6:null,8:f,0:null,3:null,11:null,2:null,4:null},0:{5:null,7:null,9:null,10:null,1:null,6:null,8:null,0:f,3:null,11:null,2:null,4:null},10:{5:f,7:f,9:f,10:f,1:V,6:Sn,8:zn,0:null,3:O,11:T,2:f,4:E},11:{5:L,7:null,9:null,10:L,1:Se,6:null,8:null,0:null,3:be,11:f,2:L,4:Oe}};function Wn(n,t){return xe(n,t)?.projector}function xe(n,t){if(n==null||t==null)return null;if(R.source.spatialReference===n&&R.dest.spatialReference===t)return R;const e=kn(n,R.source),a=kn(t,R.dest);return e===0&&a===0?A(n,t)?R.projector=f:R.projector=null:R.projector=Ie[e][a],R}function kn(n,t){return n?t.spatialReference===n?t.spatialReferenceId:(t.spatialReference=n,"metersPerUnit"in t&&(t.metersPerUnit=Qn(n,1)),dn(n)?t.spatialReferenceId=1:hn(n)?t.spatialReferenceId=2:mn(n)?t.spatialReferenceId=3:ne(n)?t.spatialReferenceId=11:n.wkt===ee.wkt?t.spatialReferenceId=4:n.wkid===4490?t.spatialReferenceId=5:n.wkt===te.wkt?t.spatialReferenceId=6:n.wkt===ae.wkt?t.spatialReferenceId=8:le(n)?t.spatialReferenceId=7:se(n)?t.spatialReferenceId=9:t.spatialReferenceId=0):0}function f(n,t,e,a){n!==e&&(e[a++]=n[t++],e[a++]=n[t++],e[a]=n[t])}function K(n,t,e,a){e[a]=W*(n[t]/_),e[a+1]=W*(Un-2*Math.atan(Math.exp(-n[t+1]/_))),e[a+2]=n[t+2]}function je(n,t,e,a){const l=n[t]/_,r=Un-2*Math.atan(Math.exp(-n[t+1]/_)),o=_+n[t+2],s=Math.cos(r)*o;e[a]=Math.cos(l)*s,e[a+1]=Math.sin(l)*s,e[a+2]=Math.sin(r)*o}function _e(n,t,e,a){K(n,t,e,a),E(e,a,e,a)}function ve(n,t,e,a,l){const r=.4999999*Math.PI,o=re(Z*n[t+1],-r,r),s=Math.sin(o);e[a++]=Z*n[t]*l.radius,e[a++]=l.halfSemiMajorAxis*Math.log((1+s)/(1-s)),e[a]=n[t+2]}function O(n,t,e,a){ve(n,t,e,a,$)}function T(n,t,e,a){e[a]=n[t]*Tn,e[a+1]=n[t+1]*Tn,e[a+2]=n[t+2]}function L(n,t,e,a){e[a]=n[t]*Ln,e[a+1]=n[t+1]*Ln,e[a+2]=n[t+2]}function Pe(n,t,e,a){K(n,t,e,a),T(e,a,e,a)}function ke(n,t,e,a){G(n,t,e,a),T(e,a,e,a)}function ze(n,t,e,a){q(n,t,e,a),T(e,a,e,a)}function Se(n,t,e,a){L(n,t,e,a),V(e,a,e,a)}function be(n,t,e,a){L(n,t,e,a),O(e,a,e,a)}function Oe(n,t,e,a){L(n,t,e,a),E(e,a,e,a)}function Rn(n,t,e,a,l){const r=l+n[t+2],o=Z*n[t+1],s=Z*n[t],i=Math.cos(o)*r;e[a]=Math.cos(s)*i,e[a+1]=Math.sin(s)*i,e[a+2]=Math.sin(o)*r}function zn(n,t,e,a){Rn(n,t,e,a,an.radius)}function Sn(n,t,e,a){Rn(n,t,e,a,D.radius)}function V(n,t,e,a){Rn(n,t,e,a,$.radius)}function wn(n,t,e,a,l){const r=n[t],o=n[t+1],s=n[t+2],i=Math.sqrt(r*r+o*o+s*s),c=ue(s/(i===0?1:i)),u=Math.atan2(o,r);e[a++]=W*u,e[a++]=W*c,e[a]=i-l}function bn(n,t,e,a){wn(n,t,e,a,an.radius)}function On(n,t,e,a){wn(n,t,e,a,D.radius)}function q(n,t,e,a){wn(n,t,e,a,$.radius)}function Te(n,t,e,a){q(n,t,e,a),O(e,a,e,a)}function Le(n,t,e,a){q(n,t,e,a),E(e,a,e,a)}function qe(n,t,e,a,l){const r=Z*n[t],o=Z*n[t+1],s=n[t+2],i=Math.sin(o),c=Math.cos(o),u=l.radius/Math.sqrt(1-l.eccentricitySquared*i*i);e[a++]=(u+s)*c*Math.cos(r),e[a++]=(u+s)*c*Math.sin(r),e[a++]=(u*(1-l.eccentricitySquared)+s)*i}function E(n,t,e,a){qe(n,t,e,a,$)}function G(n,t,e,a){const l=we,r=n[t],o=n[t+1],s=n[t+2];let i,c,u,d,p,y,M,m,w,B,ln,sn,rn,P,k,on,un,cn,z,xn,jn;i=Math.abs(s),c=r*r+o*o,u=Math.sqrt(c),d=c+s*s,p=Math.sqrt(d),xn=Math.atan2(o,r),y=s*s/d,M=c/d,P=l.a2/p,k=l.a3-l.a4/p,M>.3?(m=i/p*(1+M*(l.a1+P+y*k)/p),z=Math.asin(m),B=m*m,w=Math.sqrt(1-B)):(w=u/p*(1-y*(l.a5-P-M*k)/p),z=Math.acos(w),B=1-w*w,m=Math.sqrt(B)),ln=1-$.eccentricitySquared*B,sn=$.radius/Math.sqrt(ln),rn=l.a6*sn,P=u-sn*w,k=i-rn*m,un=w*P+m*k,on=w*k-m*P,cn=on/(rn/ln+un),z+=cn,jn=un+on*cn/2,s<0&&(z=-z),e[a++]=W*xn,e[a++]=W*z,e[a]=jn}function Ee(n,t,e,a){G(n,t,e,a),V(e,a,e,a)}function Ge(n,t,e,a){G(n,t,e,a),O(e,a,e,a)}const R={source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:f},Z=oe(1),W=ie(1),Un=.5*Math.PI,_=$.radius,Tn=_*Math.PI/180,Ln=180/(_*Math.PI);function Q(n,t,e,a,l,r,o=Math.floor(n.length/3)){const s=Wn(t,l);if(s==null)return!1;if(s===f){if(n===a&&e===r)return!0;const c=e+3*o;for(let u=e,d=r;u<c;u++,d++)a[d]=n[u];return!0}const i=e+3*o;for(let c=e,u=r;c<i;c+=3,u+=3)s(n,c,a,u);return!0}const st=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:Q},Symbol.toStringTag,{value:"Module"}));function qn(n,t,e,a,l,r){return nn[0]=n,nn[1]=t,nn[2]=e,Q(nn,a,0,l,r,0)}const nn=An();function Ae(n,t,e){if(t==null||e==null||e.vcsWkid||A(t,e)||j(t)||j(e))return null;const a=_n(t)/_n(e);if(a===1)return null;switch(n){case"point":case"esriGeometryPoint":return l=>Ze(l,a);case"polyline":case"esriGeometryPolyline":return l=>Ue(l,a);case"polygon":case"esriGeometryPolygon":return l=>We(l,a);case"multipoint":case"esriGeometryMultipoint":return l=>Ce(l,a);case"extent":case"esriGeometryEnvelope":return l=>Be(l,a);default:return null}}function Ze(n,t){n?.z!=null&&(n.z*=t)}function We(n,t){if(n)for(const e of n.rings)for(const a of e)a.length>2&&(a[2]*=t)}function Ue(n,t){if(n)for(const e of n.paths)for(const a of e)a.length>2&&(a[2]*=t)}function Ce(n,t){if(n)for(const e of n.points)e.length>2&&(e[2]*=t)}function Be(n,t){n&&n.zmin!=null&&n.zmax!=null&&(n.zmin*=t,n.zmax*=t)}let H=null,J=null,N=null,U=null,yn={};const In=new fe;function C(){return!!(J?.isLoaded()&&N?.isLoaded()&&U?.isLoaded())}function Cn(){return!!C()||(Zn(In),X(),!1)}function De(n,t){return!n||!t||v(n,t)||Cn()}function Fe(n,t){return!v(n,t)&&!C()}async function X(n){H==null&&(H=Promise.all([fn(()=>import("./projectOperator-tidcIjle.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])).then(t=>(J=t,J.load())),fn(()=>import("./projectOperator-DUu4XfPO.js"),__vite__mapDeps([8,1,2,3,4,5,6,7])).then(t=>(N=t,N.load())),fn(()=>import("./geographicTransformationUtils-D4gG9xc_.js"),__vite__mapDeps([9,1,2,5,6,7])).then(t=>(U=t,U.load()))])),await H,ce(n),In.notify()}function Bn(n,t,e){return Array.isArray(n)?n.length===0?[]:(pe(n),Mn(n,n[0].spatialReference,t,e)):(de(n),Mn([n],n.spatialReference,t,e)[0])}function Mn(n,t,e,a){if(t==null||e==null)return n;if(v(t,e,a))return n.map(l=>tn(l,t,e));if(a?.geographicTransformation==null&&dn(t))return n.map(l=>tn(l,t,pn.WGS84)).map(l=>Y(l,e));if(a?.geographicTransformation==null&&dn(e))return n.map(l=>Y(l,pn.WGS84)).map(l=>tn(l,pn.WGS84,e));if(!C())throw new Fn;if(!a?.geographicTransformation){if(a?.extendedParams)a={...a,geographicTransformation:U.getTransformation(t,e,a.areaOfInterestExtent)||new F};else if(!a?.areaOfInterestExtent){const l=Ke(t,e);let r=yn[l];r||(r=U.getTransformation(t,e)||new F,yn[l]=r),a={geographicTransformation:r}}}return n[0].spatialReference||(n[0].spatialReference=t),n[0]instanceof he?J.executeMany(n,e,a):N.executeMany(n,e,a)}function Ke(n,t){return[n.wkid?.toString()??"-1",n.wkt?.toString()??"",n.wkt2?.toString()??"",t.wkid?.toString()??"-1",t.wkt?.toString()??"",t.wkt2?.toString()??""].join()}function Ve(n,t){const e=Dn([n],t);return e.pending!=null?{pending:e.pending,geometry:null}:e.geometries!=null?{pending:null,geometry:e.geometries[0]}:{pending:null,geometry:null}}function Dn(n,t){if(!C()){for(const e of n)if(e!=null&&!A(e.spatialReference,t)&&x(e.spatialReference)&&x(t)&&!v(e.spatialReference,t))return Zn(In),{pending:X(),geometries:null}}return{pending:null,geometries:n.map(e=>e==null?null:A(e.spatialReference,t)?e:x(e.spatialReference)&&x(t)?Y(e,t):null)}}class Fn extends Re{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function He(){H=null,J=null,N=null,U=null,yn={}}const Je={get loadPromise(){return H}};function Y(n,t){try{const e=Bn(n,t);if(e==null)return null;"xmin"in n&&"xmin"in e&&(e.zmin=n.zmin,e.zmax=n.zmax);const a=Ae(e.type,n.spatialReference,t);return a?.(e),e}catch(e){if(!(e instanceof Fn))throw e;return null}}async function Ne(n,t,e){const a=n.spatialReference;return a!=null&&t!=null&&await Kn(a,t,null,e),Y(n,t)}function v(n,t,e){return!(e?.areaOfInterestExtent||e?.extendedParams||e?.geographicTransformation)&&(!!A(n,t)||x(n)&&x(t)&&!!Wn(n,t))}function Xe(n,t){if(A(n,t))return!0;if(!x(n)||!x(t))return!1;const e=hn(n)||mn(n)||Pn(n),a=hn(t)||mn(t)||Pn(t);return e&&a}async function Kn(n,t,e,a){if(C())return vn(a);if(Array.isArray(n)){for(const{source:l,dest:r,options:o}of n)if(l&&r&&!v(l,r,o))return X(a)}else if(n&&t&&!v(n,t,e))return X(a);return vn(a)}function tn(n,t,e){return n?"x"in n?Vn(n,t,new me,e,0):"xmin"in n?Xn(n,t,new ge,e,0):"rings"in n?Nn(n,t,new $e,e,0):"paths"in n?Jn(n,t,new ye,e,0):"points"in n?Hn(n,t,new Me,e,0):null:null}function Ye(n,t,e=t.spatialReference,a=0){return e!=null&&n.spatialReference!=null&&Vn(n,n.spatialReference,t,e,a)!=null}function Vn(n,t,e,a,l){h[0]=n.x,h[1]=n.y;const r=n.z;return h[2]=r!==void 0?r:l,Q(h,t,0,h,a,0)?(e.x=h[0],e.y=h[1],e.spatialReference=a,r!==void 0||j(a)?(e.z=h[2],e.hasZ=!0):(e.z=void 0,e.hasZ=!1),n.m===void 0?(e.m=void 0,e.hasM=!1):(e.m=n.m,e.hasM=!0),e):null}function Qe(n,t,e=t.spatialReference,a=0){return n.spatialReference!=null&&e!=null&&Hn(n,n.spatialReference,t,e,a)!=null}function Hn(n,t,e,a,l){const{points:r,hasZ:o,hasM:s}=n,i=[],c=r.length,u=[];for(const p of r)u.push(p[0],p[1],o?p[2]:l);if(!Q(u,t,0,u,a,0,c))return null;const d=o||j(a);for(let p=0;p<c;++p){const y=3*p,M=u[y],m=u[y+1];d&&s?i.push([M,m,u[y+2],r[p][3]]):d?i.push([M,m,u[y+2]]):s?i.push([M,m,r[p][2]]):i.push([M,m])}return e.points=i,e.spatialReference=a,e.hasZ=o,e.hasM=s,e}function nt(n,t,e=t.spatialReference,a=0){return n.spatialReference!=null&&e!=null&&Jn(n,n.spatialReference,t,e,a)!=null}function Jn(n,t,e,a,l){const{paths:r,hasZ:o,hasM:s}=n,i=[];if(!Yn(r,o??!1,s??!1,t,i,a,l))return null;const c=o||j(a);return e.paths=i,e.spatialReference=a,e.hasZ=c,e.hasM=s,e}function et(n,t,e=t.spatialReference,a=0){return n.spatialReference!=null&&e!=null&&Nn(n,n.spatialReference,t,e,a)!=null}function Nn(n,t,e,a,l){const{rings:r,hasZ:o,hasM:s}=n,i=[];if(!Yn(r,o??!1,s??!1,t,i,a,l))return null;const c=o||j(a);return e.rings=i,e.spatialReference=a,e.hasZ=c,e.hasM=s,e}function tt(n,t,e=t.spatialReference,a=0){return n.spatialReference!=null&&e!=null&&Xn(n,n.spatialReference,t,e,a)!=null}function Xn(n,t,e,a,l){const{xmin:r,ymin:o,xmax:s,ymax:i,hasZ:c,hasM:u}=n,d=c?n.zmin:l;if(!qn(r,o,d,t,h,a))return null;const p=c||j(a);e.xmin=h[0],e.ymin=h[1],p&&(e.zmin=h[2]);const y=c?n.zmax:l;return qn(s,i,y,t,h,a)?(e.xmax=h[0],e.ymax=h[1],p&&(e.zmax=h[2]),u&&(e.mmin=n.mmin,e.mmax=n.mmax),e.spatialReference=a,e):null}function Yn(n,t,e,a,l,r,o=0){const s=new Array;for(const u of n)for(const d of u)s.push(d[0],d[1],t?d[2]:o);if(!Q(s,a,0,s,r,0))return!1;let i=0;l.length=0;const c=t||j(r);for(const u of n){const d=new Array;for(const p of u)c&&e?d.push([s[i++],s[i++],s[i++],p[3]]):c?d.push([s[i++],s[i++],s[i++]]):e?(d.push([s[i++],s[i++],p[2]]),i++):(d.push([s[i++],s[i++]]),i++);l.push(d)}return!0}const h=An(),rt=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:v,initializeProjection:Kn,isEqualBaseGCS:Xe,isLoaded:C,isLoadedOrLoad:Cn,isLoadedOrLoadFor:De,load:X,project:Bn,projectExtent:tt,projectMany:Mn,projectMultipoint:Qe,projectOrLoad:Ve,projectOrLoadMany:Dn,projectPoint:Ye,projectPolygon:et,projectPolyline:nt,projectWithZConversion:Ne,projectWithoutEngine:tn,requiresLoad:Fe,test:Je,tryProjectWithZConversion:Y,unload:He},Symbol.toStringTag,{value:"Module"}));export{Mn as B,Wn as C,Y as F,C as G,Ne as H,xe as I,v as J,Xe as K,X as L,Kn as N,tn as Q,Bn as W,Ve as X,Dn as Y,Ae as a,et as b,F as c,rt as d,S as i,Q as o,st as p,Ie as w};
