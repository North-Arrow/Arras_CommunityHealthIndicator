import{_ as r,z as a,A as p,B as G,hn as X,df as u,hV as Z,gF as Q,e9 as Y,ci as g,fj as ee,C as re,aE as te,P as E,N as b,dT as P,g as R,fA as ie,hc as F,c1 as N,S as ae,cj as B,fJ as se,s as x,hW as ne,d3 as oe,hX as le}from"./MapPage-BVU61OqA.js";const l=(t=>t)(["operational-layers","basemap-base-layers","basemap-ground-layers","ground"]),W={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,ArcGISVideoLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,ParquetLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},D={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},V={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},ue={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GaussianSplatLayer:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,Object3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,ViewshedLayer:!0,Voxel:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap-base-layers":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap-ground-layers":{IntegratedMesh3DTilesLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":W,"web-map/basemap-base-layers":D,"web-map/tables":V,"link-chart/operational-layers":{...W,LinkChartLayer:!0},"link-chart/basemap-base-layers":D,"link-chart/tables":V,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0,WCS:!0},"portal-item/tables":{ArcGISFeatureLayer:!0,SubtypeGroupTable:!0}};var j;let S=j=class extends G{constructor(t){super(t),this.expression=void 0,this.title=void 0}async collectRequiredFields(t,e){return X(t,e,null,this.expression)}clone(){return new j({expression:this.expression,title:this.title})}equals(t){return this.expression===t.expression&&this.title===t.title}};r([a({type:String,json:{write:{isRequired:!0}}})],S.prototype,"expression",void 0),r([a({type:String,json:{write:!0}})],S.prototype,"title",void 0),S=j=r([p("esri.symbols.support.FeatureExpressionInfo")],S);const q=S,_={unknown:1,inches:u(1,"meters","inches"),feet:u(1,"meters","feet"),"us-feet":u(1,"meters","us-feet"),yards:u(1,"meters","yards"),miles:u(1,"meters","miles"),"nautical-miles":u(1,"meters","nautical-miles"),millimeters:u(1,"meters","millimeters"),centimeters:u(1,"meters","centimeters"),decimeters:u(1,"meters","decimeters"),meters:u(1,"meters","meters"),kilometers:u(1,"meters","kilometers"),"decimal-degrees":1/Z(1,"meters",Q.radius)};function ve(t){return 1/(_[t]||1)}function pe(){const t=Object.keys(_);return Y(t,"decimal-degrees"),t.sort(),t}const ye=pe(),A=re()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),k=new te({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let d=class extends g(G){constructor(e){super(e),this.featureExpressionInfo=void 0,this.offset=null}readFeatureExpressionInfo(e,i){return e!=null?e.expression?e:void 0:i.featureExpression&&i.featureExpression.value===0?{expression:"0"}:void 0}writeFeatureExpressionInfo(e,i,C,s){i[C]=e.write({},s),e.expression==="0"&&(i.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:i}=this;return this._isOverridden("mode")?this._get("mode"):e!=null||i?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,i){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,i):null}equals(e){return this.mode===e.mode&&this.offset===e.offset&&this.unit===e.unit&&ee(this.featureExpressionInfo,e.featureExpressionInfo)}};r([a({type:q,json:{write:!0}})],d.prototype,"featureExpressionInfo",void 0),r([E("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],d.prototype,"readFeatureExpressionInfo",null),r([b("featureExpressionInfo",{featureExpressionInfo:{type:q},"featureExpression.value":{type:[0]}})],d.prototype,"writeFeatureExpressionInfo",null),r([a({type:A.apiValues,nonNullable:!0,json:{type:A.jsonValues,read:A.read,write:{writer:A.write,isRequired:!0}}})],d.prototype,"mode",null),r([a({type:Number,json:{write:!0}})],d.prototype,"offset",void 0),r([a({type:ye,json:{type:String,read:k.read,write:k.write}})],d.prototype,"unit",null),d=r([p("esri.symbols.support.ElevationInfo")],d);let f=class extends G{constructor(e){super(e),this.description=null,this.label=null,this.type=null}};r([a({type:String,json:{write:!0}})],f.prototype,"description",void 0),r([a({type:String,json:{write:!0}})],f.prototype,"label",void 0),r([a()],f.prototype,"type",void 0),f=r([p("esri.tables.elements.AttributeTableElement")],f);const w=f;let v=class extends g(w){constructor(e){super(e),this.displayType="auto",this.type="attachment"}clone(){return super.clone()}};r([a({type:["auto"],json:{write:!0}})],v.prototype,"displayType",void 0),r([a({type:["attachment"],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],v.prototype,"type",void 0),v=r([p("esri.tables.elements.AttributeTableAttachmentElement")],v);const J=v;let m=class extends g(w){constructor(e){super(e),this.description=null,this.fieldName=null,this.label=null,this.type="field"}clone(){return super.clone()}};r([a({type:String,json:{read:!1,write:!1}})],m.prototype,"description",void 0),r([a({type:String,json:{write:{enabled:!0,isRequired:!0}}})],m.prototype,"fieldName",void 0),r([a({type:String,json:{read:!1,write:!1}})],m.prototype,"label",void 0),r([a({type:["field"],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],m.prototype,"type",void 0),m=r([p("esri.tables.elements.AttributeTableFieldElement")],m);const z=m;let h=class extends g(w){constructor(e){super(e),this.relationshipId=null,this.type="relationship"}clone(){return super.clone()}};r([a({type:Number,json:{type:P,write:{enabled:!0,isRequired:!0}}})],h.prototype,"relationshipId",void 0),r([a({type:["relationship"],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],h.prototype,"type",void 0),h=r([p("esri.tables.elements.AttributeTableRelationshipElement")],h);const H=h,K={base:w,key:"type",typeMap:{attachment:J,field:z,relationship:H}};function de(t){return{typesWithGroup:{base:w,key:"type",typeMap:{attachment:J,field:z,group:t,relationship:H}},typesWithoutGroup:K}}let L=class extends g(w){constructor(e){super(e),this.elements=null,this.type="group"}clone(){return super.clone()}};r([a({types:[K],json:{name:"attributeTableElements",write:!0}})],L.prototype,"elements",void 0),r([a({type:["group"],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],L.prototype,"type",void 0),L=r([p("esri.tables.elements.AttributeTableGroupElement")],L);const ce=L;let I=class extends g(G){constructor(e){super(e),this.field=null,this.order=null}};r([a({type:String,json:{write:!0}})],I.prototype,"field",void 0),r([a({type:["asc","desc"],json:{write:!0}})],I.prototype,"order",void 0),I=r([p("esri.tables.support.FieldOrder")],I);const me=I;var M;const be=de(ce);let T=M=class extends G{constructor(t){super(t),this.elements=null,this.orderByFields=null}clone(){return new M({elements:R(this.elements),orderByFields:R(this.orderByFields)})}};r([a({types:[be.typesWithGroup],json:{name:"attributeTableElements",write:!0}})],T.prototype,"elements",void 0),r([a({type:[me],json:{write:!0}})],T.prototype,"orderByFields",void 0),T=M=r([p("esri.tables.AttributeTableTemplate")],T);const fe=T,$e={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:l}}},Ee={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(t,e)=>!e.disablePopup},write:{enabled:!0,writer(t,e,i){e[i]=!t}}}},je={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:l}}},Me={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:ie}}},Oe={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:l}}},Ce={value:null,type:d,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:l}}};function Re(t){return{type:t,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const U={write:{enabled:!0,layerContainerTypes:l},read:!0},O={type:Number,json:{origins:{"web-document":U,"portal-item":{write:{layerContainerTypes:l}}}}},Fe={...O,json:{...O.json,origins:{"web-document":{...U,write:{enabled:!0,layerContainerTypes:l,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(t,e,i)=>i&&i.origin!=="service"||!e.drawingInfo||e.drawingInfo.transparency===void 0?e.layerDefinition?.drawingInfo&&e.layerDefinition.drawingInfo.transparency!==void 0?F(e.layerDefinition.drawingInfo.transparency):void 0:F(e.drawingInfo.transparency)}}},Ne={type:N,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(t,e)=>{const i=N.fromJSON(t);return e.spatialReference!=null&&typeof e.spatialReference=="object"&&(i.spatialReference=ae.fromJSON(e.spatialReference)),i}}}},read:!1}},Be={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},We={type:Number,json:{origins:{service:{write:{enabled:!1}}},name:"layerDefinition.minScale",write:{layerContainerTypes:l}}},De={type:Number,json:{origins:{service:{write:{enabled:!1}}},name:"layerDefinition.maxScale",write:{layerContainerTypes:l}}},ge={json:{write:{ignoreOrigin:!0,layerContainerTypes:l},origins:{"web-map":{read:!1,write:!1}}}},Ve={type:fe,json:{name:"attributeTableInfo",write:!0}},qe=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(s,n,o){return o?.portalItem?.type==="Group Layer"?void 0:s}writeListMode(s,n,o,y){(y&&y.layerContainerType==="ground"||s&&se(this,o,{},y))&&(n[o]=s)}writeOperationalLayerType(s,n,o){s&&(n[o]=s)}writeTitle(s,n){n.title=s??"Layer"}readVisibilityTimeExtent(s){return s?B.fromArray(s):null}writeVisibilityTimeExtent(s,n,o,y){s&&y.layerContainerType!=="tables"&&(s.isEmpty?y?.messages&&y.messages.push(new x("layer:invalid-visibilityTimeExtent","visibilityTimeExtent cannot be empty")):n[o]=s.toArray())}read(s,n){n&&(n.layer=this),ne(this,s,o=>super.read(s,o),n)}write(s,n){if(!this.persistenceEnabled&&!n?.ignorePersistenceEnabled)return null;if(n?.origin){const c=`${n.origin}/${n.layerContainerType||"operational-layers"}`;let $=!!ue[c]?.[this.operationalLayerType];if(this.operationalLayerType==="ArcGISTiledElevationServiceLayer"&&c==="web-scene/operational-layers"&&($=!1),this.operationalLayerType==="ArcGISDimensionLayer"&&c==="web-map/operational-layers"&&($=!1),!$)return n.messages?.push(new x("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${c}'`,{layer:this})),null}const o=super.write(s,{...n,layer:this}),y=!!n&&!!n.messages&&!!n.messages.filter(c=>c instanceof x&&c.name==="web-document-write:property-required").length;return oe(o?.url)?(n?.messages?.push(new x("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&y?null:o}beforeSave(){}};return r([a({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],i.prototype,"id",void 0),r([E("id",["id"])],i.prototype,"readId",null),r([a(ge)],i.prototype,"listMode",void 0),r([b("listMode")],i.prototype,"writeListMode",null),r([a({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:l,isRequired:!0}}}}})],i.prototype,"operationalLayerType",void 0),r([b("operationalLayerType")],i.prototype,"writeOperationalLayerType",null),r([a(O)],i.prototype,"opacity",void 0),r([a({type:Boolean,readOnly:!1})],i.prototype,"persistenceEnabled",void 0),r([a({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],i.prototype,"title",void 0),r([b("title"),b(["web-scene"],"title")],i.prototype,"writeTitle",null),r([a({type:B,json:{origins:{"web-scene":{write:{layerContainerTypes:l}}}}})],i.prototype,"visibilityTimeExtent",void 0),r([E("visibilityTimeExtent")],i.prototype,"readVisibilityTimeExtent",null),r([b(["portal-item","web-map","web-scene"],"visibilityTimeExtent",{visibilityTimeExtent:{type:[[P,le]]}})],i.prototype,"writeVisibilityTimeExtent",null),r([a({type:Boolean,json:{name:"visibility",write:{layerContainerTypes:l}}})],i.prototype,"visible",void 0),i=r([p("esri.layers.mixins.OperationalLayer")],i),i};export{Ve as I,ge as T,l as a,qe as b,d as c,Oe as d,Fe as e,fe as f,Re as g,Ne as h,_ as i,We as j,Ee as l,Ce as m,ve as n,je as p,$e as s,Be as u,De as v,O as w,Me as y};
