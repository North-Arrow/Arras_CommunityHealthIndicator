import{B as M,ae as le,_ as t,z as i,iB as ue,A as C,af as Ze,ag as Bt,iC as He,iD as Ft,aW as F,ci as Q,P as f,N as W,s as Y,dq as xe,H as Ne,U as Qe,hj as et,t as Lt,dp as St,aE as Pt,aK as Pe,b9 as we,cp as G,c1 as Nt,S as ae,a$ as Ot,ez as Mt,cr as ce,gS as Se,cI as $t,b as Et,cq as Rt,ds as Jt,O as U,iE as _t,bm as Wt,d_ as Ut,cH as xt,bp as yt,Z as mt,T as kt,I as Vt,M as Gt,Y as qt,df as zt,cT as Zt}from"./MapPage-tXYKzu0N.js";import{l as Ht}from"./MultiOriginJSONSupport-Crxl3LfW.js";import{i as Yt}from"./originUtils-CPX8CCAY.js";import{W as Kt,N as Xt}from"./projectionUtils-Dt117gLL.js";import{p as Qt}from"./BlendLayer-DSUn6TuO.js";import{b as er}from"./OperationalLayer-BfFCTIMV.js";import{j as tr}from"./PortalLayer-Fa84Vgj9.js";import{t as rr}from"./ScaleRangeLayer-DJzRFQ26.js";import ir from"./PortalItem-B9RmbRy3.js";import{E as or}from"./portalItemUtils-B8OMDXfh.js";import{o as sr}from"./jsonUtils-Db5pUMha.js";import{D as z,U as ze,n as ar,b as nr,w as ke,y as lr,r as Dt,h as ur,m as It,a as jt,c as pr,q as cr,S as Ve,k as Ge,A as pe,g as Be,p as _,N as q,T as qe,R as dr,M as yr,o as mr,f as hr,l as fr,v as Fe}from"./GPMessage-Chf0UeRW.js";import{P as vr}from"./normalizeUtils-CzlDd_Kp.js";import{g as re}from"./FeatureSet-DAKYYocn.js";import"./index-BJdkyBTf.js";import"./themeLevelStore-BNTVideh.js";import"./multiOriginJSONSupportUtils-C0wm8_Yw.js";import"./mat4f32-Djp3mnm5.js";import"./mat4-C8ftgpYK.js";import"./asyncUtils-fQdeWXd_.js";import"./typeUtils-DiKcLsQR.js";import"./ClassBreaksRenderer-DEEnBlx0.js";import"./diffUtils-CZ3Fs2Bc.js";import"./RendererLegendOptions-Dc2YBVAM.js";import"./styleUtils-DCaeWXOO.js";import"./colorRamps-ByhYpt9M.js";import"./jsonUtils-CEMXdQil.js";import"./defaults-DBqX2PTg.js";import"./defaultsJSON-GKolV7NZ.js";import"./LRUCache-B-UEaoHp.js";import"./DictionaryScriptEvaluator-CcsgTjFp.js";import"./Version-B5JW3q_Y.js";import"./FieldsIndex-B-4GhKGA.js";import"./UnknownTimeZone-C38dkMEB.js";import"./timeZoneUtils-2oC1zFf0.js";import"./TimeOnly-FYculqjT.js";import"./enum-C7bgjwD2.js";import"./utils-CNckjA7H.js";import"./heatmapUtils-CWPopwr1.js";import"./vec42-AfVX9Jzj.js";import"./vec4f64-CvoGn1-Y.js";import"./SimpleRenderer-CjwLo7In.js";import"./Cyclical-CjIvO5lj.js";import"./normalizeUtilsCommon-B8h7_-Hn.js";import"./Field-CZcKd7Nn.js";import"./fieldType-CyGteHin.js";let te=class extends M{constructor(e){super(e),this.break=new le({color:[255,255,255],size:12,outline:{color:[0,122,194],width:3}}),this.first=new le({color:[0,255,0],size:20,outline:{color:[255,255,255],width:4}}),this.unlocated=new le({color:[255,0,0],size:12,outline:{color:[255,255,255],width:3}}),this.last=new le({color:[255,0,0],size:20,outline:{color:[255,255,255],width:4}}),this.middle=new le({color:[51,51,51],size:12,outline:{color:[0,122,194],width:3}}),this.waypoint=new le({color:[255,255,255],size:12,outline:{color:[0,122,194],width:3}})}};t([i({types:ue})],te.prototype,"break",void 0),t([i({types:ue})],te.prototype,"first",void 0),t([i({types:ue})],te.prototype,"unlocated",void 0),t([i({types:ue})],te.prototype,"last",void 0),t([i({types:ue})],te.prototype,"middle",void 0),t([i({types:ue})],te.prototype,"waypoint",void 0),te=t([C("esri.layers.support.RouteStopSymbols")],te);let X=class extends M{constructor(e){super(e),this.directionLines=new Ze({color:[0,122,194],width:6}),this.directionPoints=new le({color:[255,255,255],size:6,outline:{color:[0,122,194],width:2}}),this.pointBarriers=new le({style:"x",size:10,outline:{color:[255,0,0],width:3}}),this.polygonBarriers=new Bt({color:[255,170,0,.6],outline:{width:7.5,color:[255,0,0,.6]}}),this.polylineBarriers=new Ze({width:7.5,color:[255,85,0,.7]}),this.routeInfo=new Ze({width:8,color:[20,89,127]}),this.stops=new te}};t([i({types:He})],X.prototype,"directionLines",void 0),t([i({types:ue})],X.prototype,"directionPoints",void 0),t([i({types:ue})],X.prototype,"pointBarriers",void 0),t([i({types:Ft})],X.prototype,"polygonBarriers",void 0),t([i({types:He})],X.prototype,"polylineBarriers",void 0),t([i({types:He})],X.prototype,"routeInfo",void 0),t([i({type:te})],X.prototype,"stops",void 0),X=t([C("esri.layers.support.RouteSymbols")],X);let K=class extends M{constructor(e){super(e),this.dataType=null,this.name=null,this.parameterNames=null,this.restrictionUsageParameterName=null,this.timeNeutralAttributeName=null,this.trafficSupport=null,this.units=null,this.usageType=null}};t([i({type:String})],K.prototype,"dataType",void 0),t([F(z,{ignoreUnknown:!1})],K.prototype,"name",void 0),t([i({type:[String]})],K.prototype,"parameterNames",void 0),t([i({type:String})],K.prototype,"restrictionUsageParameterName",void 0),t([F(ze,{ignoreUnknown:!1})],K.prototype,"timeNeutralAttributeName",void 0),t([i({type:String})],K.prototype,"trafficSupport",void 0),t([F(ar)],K.prototype,"units",void 0),t([F(nr)],K.prototype,"usageType",void 0),K=t([C("esri.rest.support.NetworkAttribute")],K);const br=K;let ne=class extends M{constructor(e){super(e),this.buildTime=null,this.name=null,this.networkAttributes=null,this.networkSources=null,this.state=null}};t([i({type:Number})],ne.prototype,"buildTime",void 0),t([i({type:String})],ne.prototype,"name",void 0),t([i({type:[br]})],ne.prototype,"networkAttributes",void 0),t([i()],ne.prototype,"networkSources",void 0),t([i({type:String})],ne.prototype,"state",void 0),ne=t([C("esri.rest.support.NetworkDataset")],ne);const Tr=ne;let P=class extends Q(M){constructor(e){super(e),this.attributeParameterValues=null,this.description=null,this.distanceAttributeName=null,this.id=null,this.impedanceAttributeName=null,this.name=null,this.restrictionAttributeNames=null,this.simplificationTolerance=null,this.simplificationToleranceUnits=null,this.timeAttributeName=null,this.type=null,this.useHierarchy=null,this.uturnAtJunctions=null}readId(e,r){return r.id??r.itemId??null}readRestrictionAttributes(e,r){const{restrictionAttributeNames:s}=r;return s==null?null:s.map(a=>ke.fromJSON(a))}writeRestrictionAttributes(e,r,s){e!=null&&(r[s]=e.map(a=>ke.toJSON(a)))}};t([i({type:[Object],json:{write:!0}})],P.prototype,"attributeParameterValues",void 0),t([i({type:String,json:{write:!0}})],P.prototype,"description",void 0),t([F(lr,{ignoreUnknown:!1})],P.prototype,"distanceAttributeName",void 0),t([i({type:String,json:{write:!0}})],P.prototype,"id",void 0),t([f("id",["id","itemId"])],P.prototype,"readId",null),t([F(z,{ignoreUnknown:!1})],P.prototype,"impedanceAttributeName",void 0),t([i({type:String,json:{write:!0}})],P.prototype,"name",void 0),t([i({type:[String],json:{write:!0}})],P.prototype,"restrictionAttributeNames",void 0),t([f("restrictionAttributeNames")],P.prototype,"readRestrictionAttributes",null),t([W("restrictionAttributeNames")],P.prototype,"writeRestrictionAttributes",null),t([i({type:Number,json:{write:{allowNull:!0}}})],P.prototype,"simplificationTolerance",void 0),t([F(Dt)],P.prototype,"simplificationToleranceUnits",void 0),t([F(ze,{ignoreUnknown:!1})],P.prototype,"timeAttributeName",void 0),t([F(ur)],P.prototype,"type",void 0),t([i({type:Boolean,json:{write:!0}})],P.prototype,"useHierarchy",void 0),t([F(It)],P.prototype,"uturnAtJunctions",void 0),P=t([C("esri.rest.support.TravelMode")],P);let $=class extends M{constructor(e){super(e),this.accumulateAttributeNames=null,this.attributeParameterValues=null,this.currentVersion=null,this.defaultTravelMode=null,this.directionsLanguage=null,this.directionsLengthUnits=null,this.directionsSupportedLanguages=null,this.directionsTimeAttribute=null,this.hasZ=null,this.impedance=null,this.networkDataset=null,this.supportedTravelModes=null}readAccumulateAttributes(e){return e==null?null:e.map(r=>z.fromJSON(r))}writeAccumulateAttributes(e,r,s){e?.length&&(r[s]=e.map(a=>z.toJSON(a)))}get capabilities(){return{supportsNow:(this.currentVersion??10)>=10.81}}readDefaultTravelMode(e,r){const s=r.supportedTravelModes?.find(({id:a})=>a===r.defaultTravelMode)??r.supportedTravelModes?.find(({itemId:a})=>a===r.defaultTravelMode);return s?P.fromJSON(s):null}};t([i()],$.prototype,"accumulateAttributeNames",void 0),t([f("accumulateAttributeNames")],$.prototype,"readAccumulateAttributes",null),t([W("accumulateAttributeNames")],$.prototype,"writeAccumulateAttributes",null),t([i()],$.prototype,"attributeParameterValues",void 0),t([i()],$.prototype,"capabilities",null),t([i()],$.prototype,"currentVersion",void 0),t([i()],$.prototype,"defaultTravelMode",void 0),t([f("defaultTravelMode",["defaultTravelMode","supportedTravelModes"])],$.prototype,"readDefaultTravelMode",null),t([i()],$.prototype,"directionsLanguage",void 0),t([F(jt)],$.prototype,"directionsLengthUnits",void 0),t([i()],$.prototype,"directionsSupportedLanguages",void 0),t([F(ze,{ignoreUnknown:!1})],$.prototype,"directionsTimeAttribute",void 0),t([i()],$.prototype,"hasZ",void 0),t([F(z,{ignoreUnknown:!1})],$.prototype,"impedance",void 0),t([i({type:Tr})],$.prototype,"networkDataset",void 0),t([i({type:[P]})],$.prototype,"supportedTravelModes",void 0),$=t([C("esri.rest.support.NetworkServiceDescription")],$);const gr=()=>Qe.getLogger("esri.rest.networkService");function Me(o,e,r,s){s[r]=[e.length,e.length+o.length],o.forEach(a=>{e.push(a.geometry)})}function wr(o,e){for(let r=0;r<e.length;r++){const s=o[e[r]];if(s&&s.length)for(const a of s)a.z=void 0}gr().warnOnce(`The remote Network Analysis service is powered by a network dataset which is not Z-aware.
Z-coordinates of the input geometry are ignored.`)}function Sr(o,e){for(let r=0;r<e.length;r++){const s=o[e[r]];if(s&&s.length){for(const a of s)if(a!=null&&a.hasZ)return!0}}return!1}async function Ct(o,e,r){if(!o)throw new Y("network-service:missing-url","Url to Network service is missing");const s=xe({f:"json",token:e},r),{data:a}=await Ne(o,s),c=a.currentVersion>=10.4?Or(o,e,r):Nr(o,r),{defaultTravelMode:n,supportedTravelModes:y}=await c;return a.defaultTravelMode=n,a.supportedTravelModes=y,$.fromJSON(a)}async function Nr(o,e){const r=xe({f:"json"},e),{data:s}=await Ne(o.replace(/\/rest\/.*$/i,"/info"),r);if(!s?.owningSystemUrl)return{supportedTravelModes:[],defaultTravelMode:null};const{owningSystemUrl:a}=s,c=et(a)+"/sharing/rest/portals/self",{data:n}=await Ne(c,r),y=Lt("helperServices.routingUtilities.url",n);if(!y)return{supportedTravelModes:[],defaultTravelMode:null};const S=St(a),A=/\/solve$/i.test(S.path)?"Route":/\/solveclosestfacility$/i.test(S.path)?"ClosestFacility":"ServiceAreas",h=xe({f:"json",serviceName:A},e),l=et(y)+"/GetTravelModes/execute",b=await Ne(l,h),j=[];let g=null;if(b?.data?.results?.length){const N=b.data.results;for(const m of N)if(m.paramName==="supportedTravelModes"){if(m.value?.features){for(const{attributes:O}of m.value.features)if(O){const v=JSON.parse(O.TravelMode);j.push(v)}}}else m.paramName==="defaultTravelMode"&&(g=m.value)}return{supportedTravelModes:j,defaultTravelMode:g}}async function Or(o,e,r){try{const s=xe({f:"json",token:e},r),a=et(o)+"/retrieveTravelModes",{data:{supportedTravelModes:c,defaultTravelMode:n}}=await Ne(a,s);return{supportedTravelModes:c,defaultTravelMode:n}}catch(s){throw new Y("network-service:retrieveTravelModes","Could not get to the NAServer's retrieveTravelModes.",{error:s})}}function ie(o,e){if(o==null)return null;const r={},s=new RegExp(`^${e}`,"i");for(const a of Object.keys(o))if(s.test(a)){const c=a.slice(e.length);r[z.fromJSON(c)]=o[a]}return r}function ct(o,e,r){if(o!=null){e.attributes||(e.attributes={});for(const s in o){const a=z.toJSON(s);e.attributes[`${r}${a}`]=o[s]}}}function Ie(o){const e={};for(const r of Object.keys(o)){const s=r;e[z.fromJSON(s)]=o[r]}return e}function je(o){const e={};for(const r of Object.keys(o)){const s=r;e[z.toJSON(s)]=o[r]}return e}function Le(o,e){return o==null||e==null?null:Math.round((o-e)/6e4)}function Dr(o){const e=o.toJSON(),r=e;return r.accumulateAttributeNames&&=e.accumulateAttributeNames?.join(),r.attributeParameterValues&&=JSON.stringify(e.attributeParameterValues),r.barriers&&=JSON.stringify(e.barriers),r.outSR&&=e.outSR?.wkid,r.overrides&&=JSON.stringify(e.overrides),r.polygonBarriers&&=JSON.stringify(e.polygonBarriers),r.polylineBarriers&&=JSON.stringify(e.polylineBarriers),r.restrictionAttributeNames&&=e.restrictionAttributeNames?.join(),r.stops&&=JSON.stringify(e.stops),r.travelMode&&=JSON.stringify(e.travelMode),r}const ht=new Pt({0:"informative",1:"process-definition",2:"process-start",3:"process-stop",50:"warning",100:"error",101:"empty",200:"abort"});let We=class extends pr{constructor(e){super(e),this.type=null}};t([i({type:String,json:{read:ht.read,write:ht.write}})],We.prototype,"type",void 0),We=t([C("esri.rest.support.NAMessage")],We);const Ir=We;let Ce=class extends M{constructor(e){super(e)}};t([i({json:{read:{source:"string"}}})],Ce.prototype,"text",void 0),t([F(cr,{name:"stringType"})],Ce.prototype,"type",void 0),Ce=t([C("esri.rest.support.DirectionsString")],Ce);const At=Ce;let se=class extends M{constructor(e){super(e),this.arriveTime=null,this.arriveTimeOffset=null,this.geometry=null,this.strings=null}readArriveTimeOffset(e,r){return Le(r.ETA,r.arriveTimeUTC)}readGeometry(e,r){return Pe.fromJSON(r.point)}};t([i({type:Date,json:{read:{source:"arriveTimeUTC"}}})],se.prototype,"arriveTime",void 0),t([i()],se.prototype,"arriveTimeOffset",void 0),t([f("arriveTimeOffset",["arriveTimeUTC","ETA"])],se.prototype,"readArriveTimeOffset",null),t([i({type:Pe})],se.prototype,"geometry",void 0),t([f("geometry",["point"])],se.prototype,"readGeometry",null),t([i({type:[At]})],se.prototype,"strings",void 0),se=t([C("esri.rest.support.DirectionsEvent")],se);const jr=se;function Cr(o){if(o==null||o==="")return null;let e=0,r=0,s=0,a=0;const c=[];let n,y,S,A,h,l,b,j,g=0,N=0,m=0;if(h=o.match(/((\+|-)[^+\-|]+|\|)/g),h||(h=[]),parseInt(h[g],32)===0){g=2;const O=parseInt(h[g],32);g++,l=parseInt(h[g],32),g++,1&O&&(N=h.indexOf("|")+1,b=parseInt(h[N],32),N++),2&O&&(m=h.indexOf("|",N)+1,j=parseInt(h[m],32),m++)}else l=parseInt(h[g],32),g++;for(;g<h.length&&h[g]!=="|";){n=parseInt(h[g],32)+e,g++,e=n,y=parseInt(h[g],32)+r,g++,r=y;const O=[n/l,y/l];N&&(A=parseInt(h[N],32)+s,N++,s=A,O.push(A/b)),m&&(S=parseInt(h[m],32)+a,m++,a=S,O.push(S/j)),c.push(O)}return{paths:[c],hasZ:N>0,hasM:m>0}}let ye=class extends G{constructor(e){super(e),this.events=null,this.geometry=null,this.strings=null}set attributes(e){super.attributes=e}readGeometry(e,r){const s=Cr(r.compressedGeometry);return s!=null?we.fromJSON(s):null}};t([i({type:[jr]})],ye.prototype,"events",void 0),t([i({type:we})],ye.prototype,"geometry",void 0),t([f("geometry",["compressedGeometry"])],ye.prototype,"readGeometry",null),t([i({type:[At]})],ye.prototype,"strings",void 0),ye=t([C("esri.rest.support.DirectionsFeature")],ye);const Ar=ye;function Br(o,e){if(o.length===0)return new we({spatialReference:e});const r=[];for(const n of o)for(const y of n.paths)r.push(...y);const s=[];r.forEach((n,y)=>{y!==0&&n[0]===r[y-1][0]&&n[1]===r[y-1][1]||s.push(n)});const{hasM:a,hasZ:c}=o[0];return new we({hasM:a,hasZ:c,paths:[s],spatialReference:e})}let k=class extends re{constructor(e){super(e),this.extent=null,this.features=[],this.geometryType="polyline",this.routeId=null,this.routeName=null,this.totalDriveTime=null,this.totalLength=null,this.totalTime=null}readFeatures(e,r){if(!e)return[];const s=r.summary.envelope.spatialReference??r.spatialReference,a=s&&ae.fromJSON(s);return e.map(c=>{const n=Ar.fromJSON(c);if(n.geometry!=null&&(n.geometry.spatialReference=a),n.events!=null)for(const y of n.events)y.geometry!=null&&(y.geometry.spatialReference=a);return n})}get mergedGeometry(){return this.features?Br(this.features.map(({geometry:e})=>e),this.extent.spatialReference):null}get strings(){return this.features.flatMap(({strings:e})=>e).filter(Ot)}};t([i({type:Nt,json:{read:{source:"summary.envelope"}}})],k.prototype,"extent",void 0),t([i({nonNullable:!0})],k.prototype,"features",void 0),t([f("features")],k.prototype,"readFeatures",null),t([i()],k.prototype,"geometryType",void 0),t([i({readOnly:!0})],k.prototype,"mergedGeometry",null),t([i()],k.prototype,"routeId",void 0),t([i()],k.prototype,"routeName",void 0),t([i({value:null,readOnly:!0})],k.prototype,"strings",null),t([i({json:{read:{source:"summary.totalDriveTime"}}})],k.prototype,"totalDriveTime",void 0),t([i({json:{read:{source:"summary.totalLength"}}})],k.prototype,"totalLength",void 0),t([i({json:{read:{source:"summary.totalTime"}}})],k.prototype,"totalTime",void 0),k=t([C("esri.rest.support.DirectionsFeatureSet")],k);const Fr=k;let Z=class extends M{constructor(e){super(e),this.directionLines=null,this.directionPoints=null,this.directions=null,this.route=null,this.routeName=null,this.stops=null,this.traversedEdges=null,this.traversedJunctions=null,this.traversedTurns=null}};t([i({type:re,json:{write:!0}})],Z.prototype,"directionLines",void 0),t([i({type:re,json:{write:!0}})],Z.prototype,"directionPoints",void 0),t([i({type:Fr,json:{write:!0}})],Z.prototype,"directions",void 0),t([i({type:G,json:{write:!0}})],Z.prototype,"route",void 0),t([i({type:String,json:{write:!0}})],Z.prototype,"routeName",void 0),t([i({type:[G],json:{write:!0}})],Z.prototype,"stops",void 0),t([i({type:re,json:{write:!0}})],Z.prototype,"traversedEdges",void 0),t([i({type:re,json:{write:!0}})],Z.prototype,"traversedJunctions",void 0),t([i({type:re,json:{write:!0}})],Z.prototype,"traversedTurns",void 0),Z=t([C("esri.rest.support.RouteResult")],Z);const Lr=Z;function Ye(o){return o?re.fromJSON(o).features.filter(Ot):[]}let H=class extends M{constructor(e){super(e),this.checksum=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.routeResults=null}readPointBarriers(e,r){return Ye(r.barriers)}readPolylineBarriers(e){return Ye(e)}readPolygonBarriers(e){return Ye(e)}};t([i({type:String})],H.prototype,"checksum",void 0),t([i({type:[Ir]})],H.prototype,"messages",void 0),t([i({type:[G]})],H.prototype,"pointBarriers",void 0),t([f("pointBarriers",["barriers"])],H.prototype,"readPointBarriers",null),t([i({type:[G]})],H.prototype,"polylineBarriers",void 0),t([f("polylineBarriers")],H.prototype,"readPolylineBarriers",null),t([i({type:[G]})],H.prototype,"polygonBarriers",void 0),t([f("polygonBarriers")],H.prototype,"readPolygonBarriers",null),t([i({type:[Lr]})],H.prototype,"routeResults",void 0),H=t([C("esri.rest.support.RouteSolveResult")],H);function $e(o){return o instanceof re}async function Pr(o,e,r){const s=[],a=[],c={},n={},y=St(o),{path:S}=y;$e(e.stops)&&Me(e.stops.features,a,"stops.features",c),$e(e.pointBarriers)&&Me(e.pointBarriers.features,a,"pointBarriers.features",c),$e(e.polylineBarriers)&&Me(e.polylineBarriers.features,a,"polylineBarriers.features",c),$e(e.polygonBarriers)&&Me(e.polygonBarriers.features,a,"polygonBarriers.features",c);const A=await vr(a);for(const j in c){const g=c[j];s.push(j),n[j]=A.slice(g[0],g[1])}if(Sr(n,s)){let j=null;try{j=await Ct(S,e.apiKey,r)}catch{}j&&!j.hasZ&&wr(n,s)}for(const j in n)n[j].forEach((g,N)=>{Mt(e,j)[N].geometry=g});const h={...r,query:{...y.query,...Dr(e),f:"json"}},l=S.endsWith("/solve")?S:`${S}/solve`,{data:b}=await Ne(l,h);return Mr(b)}function Mr(o){const{barriers:e,checksum:r,directionLines:s,directionPoints:a,directions:c,messages:n,polygonBarriers:y,polylineBarriers:S,routes:A,stops:h,traversedEdges:l,traversedJunctions:b,traversedTurns:j}=o,g=v=>{const L=m.find(x=>x.routeName===v);if(L!=null)return L;const I={routeId:m.length+1,routeName:v};return m.push(I),I},N=v=>{const L=m.find(x=>x.routeId===v);if(L!=null)return L;const I={routeId:v,routeName:null};return m.push(I),I},m=[];A?.features.forEach((v,L)=>{v.geometry.spatialReference=A.spatialReference??void 0;const I=v.attributes.Name,x=L+1;m.push({routeId:x,routeName:I,route:v})}),c?.forEach(v=>{const{routeName:L}=v;g(L).directions=v});const O=(h?.features.every(v=>v.attributes.RouteName==null)??!1)&&m.length>0?m[0].routeName:null;return h?.features.forEach(v=>{v.geometry&&(v.geometry.spatialReference??=h.spatialReference??void 0);const L=O??v.attributes.RouteName,I=g(L);I.stops??=[],I.stops.push(v)}),s?.features.forEach(v=>{const L=v.attributes.RouteID,I=N(L),{geometryType:x,spatialReference:oe}=s;I.directionLines??={features:[],geometryType:x,spatialReference:oe},I.directionLines.features.push(v)}),a?.features.forEach(v=>{const L=v.attributes.RouteID,I=N(L),{geometryType:x,spatialReference:oe}=a;I.directionPoints??={features:[],geometryType:x,spatialReference:oe},I.directionPoints.features.push(v)}),l?.features.forEach(v=>{const L=v.attributes.RouteID,I=N(L),{geometryType:x,spatialReference:oe}=l;I.traversedEdges??={features:[],geometryType:x,spatialReference:oe},I.traversedEdges.features.push(v)}),b?.features.forEach(v=>{const L=v.attributes.RouteID,I=N(L),{geometryType:x,spatialReference:oe}=b;I.traversedJunctions??={features:[],geometryType:x,spatialReference:oe},I.traversedJunctions.features.push(v)}),j?.features.forEach(v=>{const L=v.attributes.RouteID,I=N(L);I.traversedTurns??={features:[]},I.traversedTurns.features.push(v)}),H.fromJSON({barriers:e,checksum:r,messages:n,polygonBarriers:y,polylineBarriers:S,routeResults:m})}var tt,me;let R=(me=class extends Q(M){constructor(e){super(e),this.directionLineType=null,this.directionPointId=null,this.distance=null,this.duration=null,this.fromLevel=null,this.geometry=null,this.objectId=null,this.popupTemplate=null,this.symbol=null,this.toLevel=null,this.type="direction-line"}static fromGraphic(e){return new tt({directionLineType:Ve.fromJSON(e.attributes.DirectionLineType),directionPointId:e.attributes.DirectionPointID,distance:e.attributes.Meters,duration:e.attributes.Minutes,fromLevel:e.attributes.FromLevel??null,geometry:e.geometry,objectId:e.attributes.ObjectID??e.attributes.__OBJECTID,popupTemplate:e.popupTemplate,symbol:e.symbol,toLevel:e.attributes.ToLevel??null})}toGraphic(){const e={ObjectID:this.objectId,DirectionLineType:this.directionLineType?Ve.toJSON(this.directionLineType):null,DirectionPointID:this.directionPointId,Meters:this.distance,Minutes:this.duration};return this.fromLevel!=null&&(e.FromLevel=this.fromLevel),this.toLevel!=null&&(e.ToLevel=this.toLevel),new G({geometry:this.geometry,attributes:e,symbol:this.symbol,popupTemplate:this.popupTemplate})}},tt=me,me.fields=[{name:"ObjectID",alias:"ObjectID",type:"esriFieldTypeOID"},{name:"DirectionLineType",alias:"Line Type",type:"esriFieldTypeInteger"},{name:"DirectionPointID",alias:"Direction Point ID",type:"esriFieldTypeInteger"},{name:"FromLevel",alias:"From Level",type:"esriFieldTypeInteger"},{name:"Meters",alias:"Meters",type:"esriFieldTypeDouble"},{name:"Minutes",alias:"Minutes",type:"esriFieldTypeDouble"},{name:"ToLevel",alias:"To Level",type:"esriFieldTypeInteger"}],me);t([i({type:Ve.apiValues,json:{read:{source:"attributes.DirectionLineType",reader:Ve.read}}})],R.prototype,"directionLineType",void 0),t([i({json:{read:{source:"attributes.DirectionPointID"}}})],R.prototype,"directionPointId",void 0),t([i({json:{read:{source:"attributes.Meters"}}})],R.prototype,"distance",void 0),t([i({json:{read:{source:"attributes.Minutes"}}})],R.prototype,"duration",void 0),t([i({json:{read:{source:"attributes.FromLevel"}}})],R.prototype,"fromLevel",void 0),t([i({type:we})],R.prototype,"geometry",void 0),t([i({json:{read:{source:"attributes.ObjectID"}}})],R.prototype,"objectId",void 0),t([i({type:ce})],R.prototype,"popupTemplate",void 0),t([i({types:Se})],R.prototype,"symbol",void 0),t([i({json:{read:{source:"attributes.ToLevel"}}})],R.prototype,"toLevel",void 0),t([i({readOnly:!0,json:{read:!1}})],R.prototype,"type",void 0),R=tt=t([C("esri.rest.support.DirectionLine")],R);var rt,he;let D=(he=class extends Q(M){constructor(e){super(e),this.alternateName=null,this.arrivalTime=null,this.arrivalTimeOffset=null,this.azimuth=null,this.branchName=null,this.directionPointType=null,this.displayText=null,this.exitName=null,this.geometry=null,this.intersectingName=null,this.level=null,this.name=null,this.objectId=null,this.popupTemplate=null,this.sequence=null,this.shortVoiceInstruction=null,this.stopId=null,this.symbol=null,this.towardName=null,this.type="direction-point",this.voiceInstruction=null}readArrivalTime(e,r){return r.attributes.ArrivalTime!=null?new Date(r.attributes.ArrivalTime):null}static fromGraphic(e){return new rt({alternateName:e.attributes.AlternateName??null,arrivalTime:e.attributes.ArrivalTime!=null?new Date(e.attributes.ArrivalTime):null,arrivalTimeOffset:e.attributes.ArrivalUTCOffset??null,azimuth:e.attributes.Azimuth??null,branchName:e.attributes.BranchName??null,directionPointType:Ge.fromJSON(e.attributes.DirectionPointType),displayText:e.attributes.DisplayText??null,exitName:e.attributes.ExitName??null,geometry:e.geometry,intersectingName:e.attributes.IntersectingName??null,level:e.attributes.Level??null,name:e.attributes.Name??null,objectId:e.attributes.ObjectID??e.attributes.__OBJECTID,popupTemplate:e.popupTemplate,sequence:e.attributes.Sequence,shortVoiceInstruction:e.attributes.ShortVoiceInstruction??null,stopId:e.attributes.StopID??null,symbol:e.symbol,towardName:e.attributes.TowardName??null,voiceInstruction:e.attributes.VoiceInstruction??null})}toGraphic(){const e={ObjectID:this.objectId,DirectionPointType:this.directionPointType?Ge.toJSON(this.directionPointType):null,Sequence:this.sequence,StopID:this.stopId};return this.alternateName!=null&&(e.AlternateName=this.alternateName),this.arrivalTime!=null&&(e.ArrivalTime=this.arrivalTime.getTime()),this.arrivalTimeOffset!=null&&(e.ArrivalUTCOffset=this.arrivalTimeOffset),this.azimuth!=null&&(e.Azimuth=this.azimuth),this.branchName!=null&&(e.BranchName=this.branchName),this.displayText!=null&&(e.DisplayText=this.displayText),this.exitName!=null&&(e.ExitName=this.exitName),this.intersectingName!=null&&(e.IntersectingName=this.intersectingName),this.level!=null&&(e.Level=this.level),this.name!=null&&(e.Name=this.name),this.shortVoiceInstruction!=null&&(e.ShortVoiceInstruction=this.shortVoiceInstruction),this.towardName!=null&&(e.TowardName=this.towardName),this.voiceInstruction!=null&&(e.VoiceInstruction=this.voiceInstruction),new G({geometry:this.geometry,attributes:e,symbol:this.symbol,popupTemplate:this.popupTemplate})}},rt=he,he.fields=[{name:"ObjectID",alias:"ObjectID",type:"esriFieldTypeOID"},{name:"AlternateName",alias:"Alternative Name",type:"esriFieldTypeString"},{name:"ArrivalTime",alias:"Arrival Time",type:"esriFieldTypeDate"},{name:"ArrivalUTCOffset",alias:"Arrival Time Offset",type:"esriFieldTypeInteger"},{name:"Azimuth",alias:"Azimuth",type:"esriFieldTypeDouble"},{name:"BranchName",alias:"Branch Name",type:"esriFieldTypeString"},{name:"DirectionPointType",alias:"Directions Point Type",type:"esriFieldTypeInteger"},{name:"DisplayText",alias:"Display Text",type:"esriFieldTypeString"},{name:"ExitName",alias:"Exit Name",type:"esriFieldTypeString"},{name:"IntersectingName",alias:"Intersecting Name",type:"esriFieldTypeString"},{name:"Level",alias:"Level",type:"esriFieldTypeInteger"},{name:"Name",alias:"Name",type:"esriFieldTypeString"},{name:"Sequence",alias:"Sequence",type:"esriFieldTypeInteger"},{name:"ShortVoiceInstruction",alias:"Short Voice Instruction",type:"esriFieldTypeString"},{name:"StopID",alias:"Stop ID",type:"esriFieldTypeInteger"},{name:"TowardName",alias:"Toward Name",type:"esriFieldTypeString"},{name:"VoiceInstruction",alias:"Voice Instruction",type:"esriFieldTypeString"}],he);t([i({json:{read:{source:"attributes.AlternateName"}}})],D.prototype,"alternateName",void 0),t([i({type:Date})],D.prototype,"arrivalTime",void 0),t([f("arrivalTime",["attributes.ArrivalTime"])],D.prototype,"readArrivalTime",null),t([i({json:{read:{source:"attributes.ArrivalUTCOffset"}}})],D.prototype,"arrivalTimeOffset",void 0),t([i({json:{read:{source:"attributes.Azimuth"}}})],D.prototype,"azimuth",void 0),t([i({json:{read:{source:"attributes.BranchName"}}})],D.prototype,"branchName",void 0),t([i({type:Ge.apiValues,json:{read:{source:"attributes.DirectionPointType",reader:Ge.read}}})],D.prototype,"directionPointType",void 0),t([i({json:{read:{source:"attributes.DisplayText"}}})],D.prototype,"displayText",void 0),t([i({json:{read:{source:"attributes.ExitName"}}})],D.prototype,"exitName",void 0),t([i({type:Pe})],D.prototype,"geometry",void 0),t([i({json:{read:{source:"attributes.IntersectingName"}}})],D.prototype,"intersectingName",void 0),t([i({json:{read:{source:"attributes.Level"}}})],D.prototype,"level",void 0),t([i({json:{read:{source:"attributes.Name"}}})],D.prototype,"name",void 0),t([i({json:{read:{source:"attributes.ObjectID"}}})],D.prototype,"objectId",void 0),t([i({type:ce})],D.prototype,"popupTemplate",void 0),t([i({json:{read:{source:"attributes.Sequence"}}})],D.prototype,"sequence",void 0),t([i({json:{read:{source:"attributes.ShortVoiceInstruction"}}})],D.prototype,"shortVoiceInstruction",void 0),t([i({json:{read:{source:"attributes.StopID"}}})],D.prototype,"stopId",void 0),t([i({types:Se})],D.prototype,"symbol",void 0),t([i({json:{read:{source:"attributes.TowardName"}}})],D.prototype,"towardName",void 0),t([i({readOnly:!0,json:{read:!1}})],D.prototype,"type",void 0),t([i({json:{read:{source:"attributes.VoiceInstruction"}}})],D.prototype,"voiceInstruction",void 0),D=rt=t([C("esri.rest.support.DirectionPoint")],D);var it,fe;let B=(fe=class extends Q(M){constructor(e){super(e),this.addedCost=null,this.barrierType=null,this.costs=null,this.curbApproach=null,this.fullEdge=null,this.geometry=null,this.name=null,this.objectId=null,this.popupTemplate=null,this.sideOfEdge=null,this.sourceId=null,this.sourceOid=null,this.status=null,this.symbol=null,this.type="point-barrier"}readCosts(e,r){return ie(r.attributes,"Attr_")}writeCosts(e,r){ct(e,r,"Attr_")}static fromGraphic(e){return new it({addedCost:e.attributes.AddedCost??null,barrierType:e.attributes.BarrierType!=null?q.fromJSON(e.attributes.BarrierType):null,costs:e.attributes.Costs!=null?Ie(JSON.parse(e.attributes.Costs)):null,curbApproach:e.attributes.CurbApproach!=null?_.fromJSON(e.attributes.CurbApproach):null,fullEdge:e.attributes.FullEdge!=null?Be.fromJSON(e.attributes.FullEdge):null,geometry:e.geometry,name:e.attributes.Name??null,objectId:e.attributes.ObjectID??e.attributes.__OBJECTID,popupTemplate:e.popupTemplate,status:e.attributes.Status!=null?pe.fromJSON(e.attributes.Status):null,symbol:e.symbol})}toGraphic(){const e={ObjectID:this.objectId,AddedCost:this.addedCost,BarrierType:this.barrierType?q.toJSON(this.barrierType):null,Costs:this.costs?JSON.stringify(je(this.costs)):null,CurbApproach:this.curbApproach?_.toJSON(this.curbApproach):null,FullEdge:this.fullEdge?Be.toJSON(this.fullEdge):null,Name:this.name,Status:this.status?pe.toJSON(this.status):null};return new G({geometry:this.geometry,attributes:e,symbol:this.symbol,popupTemplate:this.popupTemplate})}},it=fe,fe.fields=[{name:"ObjectID",alias:"ObjectID",type:"esriFieldTypeOID"},{name:"AddedCost",alias:"Added Cost",type:"esriFieldTypeDouble"},{name:"BarrierType",alias:"Barrier Type",type:"esriFieldTypeInteger"},{name:"Costs",alias:"Costs",type:"esriFieldTypeString"},{name:"CurbApproach",alias:"Curb Approach",type:"esriFieldTypeInteger"},{name:"FullEdge",alias:"Full Edge",type:"esriFieldTypeInteger"},{name:"Name",alias:"Name",type:"esriFieldTypeString"},{name:"Status",alias:"Status",type:"esriFieldTypeInteger"}],fe);t([i()],B.prototype,"addedCost",void 0),t([i({type:q.apiValues,json:{name:"attributes.BarrierType",read:{reader:q.read},write:{writer:q.write}}})],B.prototype,"barrierType",void 0),t([i()],B.prototype,"costs",void 0),t([f("costs",["attributes"])],B.prototype,"readCosts",null),t([W("costs")],B.prototype,"writeCosts",null),t([i({type:_.apiValues,json:{read:{source:"attributes.CurbApproach",reader:_.read}}})],B.prototype,"curbApproach",void 0),t([i({type:Be.apiValues,json:{name:"attributes.FullEdge",read:{reader:Be.read},write:{writer:Be.write}}})],B.prototype,"fullEdge",void 0),t([i({type:Pe,json:{write:!0}})],B.prototype,"geometry",void 0),t([i({json:{name:"attributes.Name"}})],B.prototype,"name",void 0),t([i({json:{name:"attributes.ObjectID"}})],B.prototype,"objectId",void 0),t([i({type:ce})],B.prototype,"popupTemplate",void 0),t([i({type:qe.apiValues,json:{read:{source:"attributes.SideOfEdge",reader:qe.read}}})],B.prototype,"sideOfEdge",void 0),t([i({json:{read:{source:"attributes.SourceID"}}})],B.prototype,"sourceId",void 0),t([i({json:{read:{source:"attributes.SourceOID"}}})],B.prototype,"sourceOid",void 0),t([i({type:pe.apiValues,json:{read:{source:"attributes.Status",reader:pe.read}}})],B.prototype,"status",void 0),t([i({types:Se})],B.prototype,"symbol",void 0),t([i({readOnly:!0,json:{read:!1}})],B.prototype,"type",void 0),B=it=t([C("esri.rest.support.PointBarrier")],B);var ot,ve;let E=(ve=class extends Q(M){constructor(e){super(e),this.barrierType=null,this.costs=null,this.geometry=null,this.name=null,this.objectId=null,this.popupTemplate=null,this.scaleFactor=null,this.symbol=null,this.type="polygon-barrier"}readCosts(e,r){return ie(r.attributes,"Attr_")}writeCosts(e,r){ct(e,r,"Attr_")}static fromGraphic(e){return new ot({barrierType:e.attributes.BarrierType!=null?q.fromJSON(e.attributes.BarrierType):null,costs:e.attributes.Costs!=null?Ie(JSON.parse(e.attributes.Costs)):null,geometry:e.geometry,name:e.attributes.Name??null,objectId:e.attributes.ObjectID??e.attributes.__OBJECTID,popupTemplate:e.popupTemplate,scaleFactor:e.attributes.ScaleFactor??null,symbol:e.symbol})}toGraphic(){const e={ObjectID:this.objectId,BarrierType:this.barrierType?q.toJSON(this.barrierType):null,Costs:this.costs?JSON.stringify(je(this.costs)):null,Name:this.name??null,ScaleFactor:this.scaleFactor??null};return new G({geometry:this.geometry,attributes:e,symbol:this.symbol,popupTemplate:this.popupTemplate})}},ot=ve,ve.fields=[{name:"ObjectID",alias:"ObjectID",type:"esriFieldTypeOID"},{name:"BarrierType",alias:"Barrier Type",type:"esriFieldTypeInteger"},{name:"Costs",alias:"Costs",type:"esriFieldTypeString"},{name:"Name",alias:"Name",type:"esriFieldTypeString"},{name:"ScaleFactor",alias:"Scale Factor",type:"esriFieldTypeDouble"}],ve);t([i({type:q.apiValues,json:{name:"attributes.BarrierType",read:{reader:q.read},write:{writer:q.write}}})],E.prototype,"barrierType",void 0),t([i()],E.prototype,"costs",void 0),t([f("costs",["attributes"])],E.prototype,"readCosts",null),t([W("costs")],E.prototype,"writeCosts",null),t([i({type:$t,json:{write:!0}})],E.prototype,"geometry",void 0),t([i({json:{name:"attributes.Name"}})],E.prototype,"name",void 0),t([i({json:{name:"attributes.ObjectID"}})],E.prototype,"objectId",void 0),t([i({type:ce})],E.prototype,"popupTemplate",void 0),t([i()],E.prototype,"scaleFactor",void 0),t([i({types:Se})],E.prototype,"symbol",void 0),t([i({readOnly:!0,json:{read:!1}})],E.prototype,"type",void 0),E=ot=t([C("esri.rest.support.PolygonBarrier")],E);var st,be;let J=(be=class extends Q(M){constructor(e){super(e),this.barrierType=null,this.costs=null,this.geometry=null,this.name=null,this.objectId=null,this.popupTemplate=null,this.scaleFactor=null,this.symbol=null,this.type="polyline-barrier"}readCosts(e,r){return ie(r.attributes,"Attr_")}static fromGraphic(e){return new st({barrierType:e.attributes.BarrierType!=null?q.fromJSON(e.attributes.BarrierType):null,costs:e.attributes.Costs!=null?Ie(JSON.parse(e.attributes.Costs)):null,geometry:e.geometry,name:e.attributes.Name??null,objectId:e.attributes.ObjectID??e.attributes.__OBJECTID,popupTemplate:e.popupTemplate,scaleFactor:e.attributes.ScaleFactor??null,symbol:e.symbol})}toGraphic(){const e={ObjectID:this.objectId,BarrierType:this.barrierType?q.toJSON(this.barrierType):null,Costs:this.costs?JSON.stringify(je(this.costs)):null,Name:this.name,ScaleFactor:this.scaleFactor};return new G({geometry:this.geometry,attributes:e,symbol:this.symbol,popupTemplate:this.popupTemplate})}},st=be,be.fields=[{name:"ObjectID",alias:"ObjectID",type:"esriFieldTypeOID"},{name:"BarrierType",alias:"Barrier Type",type:"esriFieldTypeInteger"},{name:"Costs",alias:"Costs",type:"esriFieldTypeString"},{name:"Name",alias:"Name",type:"esriFieldTypeString"},{name:"ScaleFactor",alias:"Scale Factor",type:"esriFieldTypeDouble"}],be);t([i({type:q.apiValues,json:{read:{source:"attributes.BarrierType",reader:q.read}}})],J.prototype,"barrierType",void 0),t([i()],J.prototype,"costs",void 0),t([f("costs",["attributes"])],J.prototype,"readCosts",null),t([i({type:we,json:{write:!0}})],J.prototype,"geometry",void 0),t([i({json:{name:"attributes.Name"}})],J.prototype,"name",void 0),t([i({json:{name:"attributes.ObjectID"}})],J.prototype,"objectId",void 0),t([i({type:ce})],J.prototype,"popupTemplate",void 0),t([i()],J.prototype,"scaleFactor",void 0),t([i({types:Se})],J.prototype,"symbol",void 0),t([i({readOnly:!0,json:{read:!1}})],J.prototype,"type",void 0),J=st=t([C("esri.rest.support.PolylineBarrier")],J);let V=class extends M{constructor(o){super(o),this.accumulateAttributes=null,this.directionsLanguage=null,this.findBestSequence=null,this.preserveFirstStop=null,this.preserveLastStop=null,this.startTimeIsUTC=null,this.timeWindowsAreUTC=null,this.travelMode=null}readAccumulateAttributes(o){return o==null?null:o.map(e=>z.fromJSON(e))}writeAccumulateAttributes(o,e,r){o?.length&&(e[r]=o.map(s=>z.toJSON(s)))}};t([i({type:[String],json:{name:"accumulateAttributeNames",write:!0}})],V.prototype,"accumulateAttributes",void 0),t([f("accumulateAttributes")],V.prototype,"readAccumulateAttributes",null),t([W("accumulateAttributes")],V.prototype,"writeAccumulateAttributes",null),t([i({type:String,json:{write:!0}})],V.prototype,"directionsLanguage",void 0),t([i({type:Boolean,json:{write:!0}})],V.prototype,"findBestSequence",void 0),t([i({type:Boolean,json:{write:!0}})],V.prototype,"preserveFirstStop",void 0),t([i({type:Boolean,json:{write:!0}})],V.prototype,"preserveLastStop",void 0),t([i({type:Boolean,json:{write:!0}})],V.prototype,"startTimeIsUTC",void 0),t([i({type:Boolean,json:{write:!0}})],V.prototype,"timeWindowsAreUTC",void 0),t([i({type:P,json:{write:!0}})],V.prototype,"travelMode",void 0),V=t([C("esri.rest.support.RouteSettings")],V);var at,Te;let w=(Te=class extends Q(M){constructor(e){super(e),this.analysisSettings=null,this.endTime=null,this.endTimeOffset=null,this.firstStopId=null,this.geometry=null,this.lastStopId=null,this.messages=null,this.name=null,this.objectId=null,this.popupTemplate=null,this.startTime=null,this.startTimeOffset=null,this.stopCount=null,this.symbol=null,this.totalCosts=null,this.totalDistance=null,this.totalDuration=null,this.totalLateDuration=null,this.totalViolations=null,this.totalWait=null,this.totalWaitDuration=null,this.type="route-info",this.version="1.0.0"}readEndTime(e,r){return r.attributes.EndTimeUTC!=null?new Date(r.attributes.EndTimeUTC):null}readEndTimeOffset(e,r){return Le(r.attributes.EndTime,r.attributes.EndTimeUTC)}readStartTime(e,r){return r.attributes.StartTimeUTC!=null?new Date(r.attributes.StartTimeUTC):null}readStartTimeOffset(e,r){return Le(r.attributes.StartTime,r.attributes.StartTimeUTC)}readTotalCosts(e,r){return ie(r.attributes,"Total_")}readTotalViolations(e,r){return ie(r.attributes,"TotalViolation_")}readTotalWait(e,r){return ie(r.attributes,"TotalWait_")}static fromGraphic(e){return new at({analysisSettings:e.attributes.AnalysisSettings!=null?V.fromJSON(JSON.parse(e.attributes.AnalysisSettings)):null,endTime:e.attributes.EndTime!=null?new Date(e.attributes.EndTime):null,endTimeOffset:e.attributes.EndUTCOffset??null,geometry:e.geometry,messages:e.attributes.Messages!=null?JSON.parse(e.attributes.Messages):null,name:e.attributes.RouteName,objectId:e.attributes.ObjectID??e.attributes.__OBJECTID,popupTemplate:e.popupTemplate,startTime:e.attributes.StartTime!=null?new Date(e.attributes.StartTime):null,startTimeOffset:e.attributes.StartUTCOffset??null,symbol:e.symbol,totalCosts:e.attributes.TotalCosts!=null?Ie(JSON.parse(e.attributes.TotalCosts)):null,totalDistance:e.attributes.TotalMeters??null,totalDuration:e.attributes.TotalMinutes??null,totalLateDuration:e.attributes.TotalLateMinutes??null,totalWaitDuration:e.attributes.TotalWaitMinutes??null,version:e.attributes.Version})}toGraphic(){const e={ObjectID:this.objectId,AnalysisSettings:this.analysisSettings?JSON.stringify(this.analysisSettings.toJSON()):null,EndTime:this.endTime?.getTime()??null,EndUTCOffset:this.endTimeOffset,Messages:this.messages?JSON.stringify(this.messages):null,RouteName:this.name,StartTime:this.startTime?.getTime()??null,StartUTCOffset:this.startTimeOffset,TotalCosts:this.totalCosts?JSON.stringify(je(this.totalCosts)):null,TotalLateMinutes:this.totalLateDuration,TotalMeters:this.totalDistance,TotalMinutes:this.totalDuration,TotalWaitMinutes:this.totalWaitDuration,Version:this.version};return new G({geometry:this.geometry,attributes:e,symbol:this.symbol,popupTemplate:this.popupTemplate})}},at=Te,Te.fields=[{name:"ObjectID",alias:"ObjectID",type:"esriFieldTypeOID"},{name:"AnalysisSettings",alias:"Analysis Settings",type:"esriFieldTypeString"},{name:"EndTime",alias:"End Time",type:"esriFieldTypeDate"},{name:"EndUTCOffset",alias:"End Time Offset",type:"esriFieldTypeInteger"},{name:"Messages",alias:"Messages",type:"esriFieldTypeString"},{name:"RouteName",alias:"Route Name",type:"esriFieldTypeString"},{name:"StartTime",alias:"Start Time",type:"esriFieldTypeDate"},{name:"StartUTCOffset",alias:"Start Time Offset",type:"esriFieldTypeInteger"},{name:"TotalCosts",alias:"Total Costs",type:"esriFieldTypeString"},{name:"TotalLateMinutes",alias:"Total Late Minutes",type:"esriFieldTypeDouble"},{name:"TotalMeters",alias:"Total Meters",type:"esriFieldTypeDouble"},{name:"TotalMinutes",alias:"Total Minutes",type:"esriFieldTypeDouble"},{name:"TotalWaitMinutes",alias:"Total Wait Minutes",type:"esriFieldTypeDouble"},{name:"Version",alias:"Version",type:"esriFieldTypeString"}],Te);t([i()],w.prototype,"analysisSettings",void 0),t([i({type:Date})],w.prototype,"endTime",void 0),t([f("endTime",["attributes.EndTimeUTC"])],w.prototype,"readEndTime",null),t([i()],w.prototype,"endTimeOffset",void 0),t([f("endTimeOffset",["attributes.EndTime","attributes.EndTimeUTC"])],w.prototype,"readEndTimeOffset",null),t([i({json:{read:{source:"attributes.FirstStopID"}}})],w.prototype,"firstStopId",void 0),t([i({type:we})],w.prototype,"geometry",void 0),t([i({json:{read:{source:"attributes.LastStopID"}}})],w.prototype,"lastStopId",void 0),t([i()],w.prototype,"messages",void 0),t([i({json:{read:{source:"attributes.Name"}}})],w.prototype,"name",void 0),t([i({json:{read:{source:"attributes.ObjectID"}}})],w.prototype,"objectId",void 0),t([i({type:ce})],w.prototype,"popupTemplate",void 0),t([i({type:Date})],w.prototype,"startTime",void 0),t([f("startTime",["attributes.StartTimeUTC"])],w.prototype,"readStartTime",null),t([i()],w.prototype,"startTimeOffset",void 0),t([f("startTimeOffset",["attributes.StartTime","attributes.StartTimeUTC"])],w.prototype,"readStartTimeOffset",null),t([i({json:{read:{source:"attributes.StopCount"}}})],w.prototype,"stopCount",void 0),t([i({types:Se})],w.prototype,"symbol",void 0),t([i()],w.prototype,"totalCosts",void 0),t([f("totalCosts",["attributes"])],w.prototype,"readTotalCosts",null),t([i()],w.prototype,"totalDistance",void 0),t([i()],w.prototype,"totalDuration",void 0),t([i()],w.prototype,"totalLateDuration",void 0),t([i()],w.prototype,"totalViolations",void 0),t([f("totalViolations",["attributes"])],w.prototype,"readTotalViolations",null),t([i()],w.prototype,"totalWait",void 0),t([f("totalWait",["attributes"])],w.prototype,"readTotalWait",null),t([i()],w.prototype,"totalWaitDuration",void 0),t([i({readOnly:!0,json:{read:!1}})],w.prototype,"type",void 0),t([i()],w.prototype,"version",void 0),w=at=t([C("esri.rest.support.RouteInfo")],w);let ee=class extends Q(M){constructor(o){super(o),this.doNotLocateOnRestrictedElements=null,this.geometry=null,this.geometryType=null,this.name=null,this.spatialRelationship=null,this.type="layer",this.where=null}};t([i({type:Boolean,json:{write:!0}})],ee.prototype,"doNotLocateOnRestrictedElements",void 0),t([i({types:Rt,json:{read:Et,write:!0}})],ee.prototype,"geometry",void 0),t([F(dr)],ee.prototype,"geometryType",void 0),t([i({type:String,json:{name:"layerName",write:!0}})],ee.prototype,"name",void 0),t([F(yr,{name:"spatialRel"})],ee.prototype,"spatialRelationship",void 0),t([i({type:String,json:{write:!0}})],ee.prototype,"type",void 0),t([i({type:String,json:{write:!0}})],ee.prototype,"where",void 0),ee=t([C("esri.rest.support.DataLayer")],ee);var nt,Oe;let Ue=(Oe=class extends re{constructor(e){super(e),this.doNotLocateOnRestrictedElements=null}clone(){return new nt({doNotLocateOnRestrictedElements:this.doNotLocateOnRestrictedElements,...this.cloneProperties()})}},nt=Oe,Oe);t([i({type:Boolean,json:{write:!0}})],Ue.prototype,"doNotLocateOnRestrictedElements",void 0),Ue=nt=t([C("esri.rest.support.NetworkFeatureSet")],Ue);let Ae=class extends Q(M){constructor(o){super(o),this.doNotLocateOnRestrictedElements=null,this.url=null}};t([i({type:Boolean,json:{write:!0}})],Ae.prototype,"doNotLocateOnRestrictedElements",void 0),t([i({type:String,json:{write:!0}})],Ae.prototype,"url",void 0),Ae=t([C("esri.rest.support.NetworkUrl")],Ae);var lt,De;let u=(De=class extends Q(M){constructor(e){super(e),this.accumulateAttributes=null,this.apiKey=null,this.attributeParameterValues=null,this.checksum=null,this.directionsLanguage=null,this.directionsLengthUnits=null,this.directionsOutputType=null,this.directionsStyleName=null,this.directionsTimeAttribute=null,this.findBestSequence=null,this.geometryPrecision=null,this.geometryPrecisionM=null,this.geometryPrecisionZ=null,this.ignoreInvalidLocations=null,this.impedanceAttribute=null,this.outputGeometryPrecision=null,this.outputGeometryPrecisionUnits=null,this.outputLines="true-shape",this.outSpatialReference=null,this.overrides=null,this.pointBarriers=null,this.polygonBarriers=null,this.polylineBarriers=null,this.preserveFirstStop=null,this.preserveLastStop=null,this.preserveObjectID=null,this.restrictionAttributes=null,this.restrictUTurns=null,this.returnBarriers=!1,this.returnDirections=!1,this.returnPolygonBarriers=!1,this.returnPolylineBarriers=!1,this.returnRoutes=!0,this.returnStops=!1,this.returnTraversedEdges=null,this.returnTraversedJunctions=null,this.returnTraversedTurns=null,this.returnZ=!0,this.startTime=null,this.startTimeIsUTC=!0,this.stops=null,this.timeWindowsAreUTC=null,this.travelMode=null,this.useHierarchy=null,this.useTimeWindows=null}static from(e){return Jt(lt,e)}readAccumulateAttributes(e){return e==null?null:e.map(r=>z.fromJSON(r))}writeAccumulateAttributes(e,r,s){e?.length&&(r[s]=e.map(a=>z.toJSON(a)))}writePointBarriers(e,r,s){Ee(e,r,s)}writePolygonBarrier(e,r,s){Ee(e,r,s)}writePolylineBarrier(e,r,s){Ee(e,r,s)}readRestrictionAttributes(e){return e==null?null:e.map(r=>ke.fromJSON(r))}writeRestrictionAttributes(e,r,s){e?.length&&(r[s]=e.map(a=>ke.toJSON(a)))}readStartTime(e,r){const{startTime:s}=r;return s==null?null:s==="now"?"now":new Date(s)}writeStartTime(e,r){e!=null&&(r.startTime=e==="now"?"now":e.getTime())}readStops(e,r){return _r(r.stops)}writeStops(e,r,s){Ee(e,r,s)}},lt=De,De);function $r(o){return o&&"type"in o}function Er(o){return o&&"features"in o&&"doNotLocateOnRestrictedElements"in o}function Rr(o){return o&&"url"in o}function Jr(o){return o&&"features"in o}function _r(o){return $r(o)?ee.fromJSON(o):Rr(o)?Ae.fromJSON(o):Er(o)?Ue.fromJSON(o):Jr(o)?re.fromJSON(o):null}function Ee(o,e,r){o!=null&&(e[r]=U.isCollection(o)?{features:o.toArray().map(s=>s.toJSON())}:o.toJSON())}t([i({type:[String],json:{name:"accumulateAttributeNames",write:!0}})],u.prototype,"accumulateAttributes",void 0),t([f("accumulateAttributes")],u.prototype,"readAccumulateAttributes",null),t([W("accumulateAttributes")],u.prototype,"writeAccumulateAttributes",null),t([i(_t)],u.prototype,"apiKey",void 0),t([i({json:{write:!0}})],u.prototype,"attributeParameterValues",void 0),t([i({type:String,json:{write:!0}})],u.prototype,"checksum",void 0),t([i({type:String,json:{write:!0}})],u.prototype,"directionsLanguage",void 0),t([F(jt)],u.prototype,"directionsLengthUnits",void 0),t([F(mr)],u.prototype,"directionsOutputType",void 0),t([F(hr)],u.prototype,"directionsStyleName",void 0),t([F(ze,{name:"directionsTimeAttributeName",ignoreUnknown:!1})],u.prototype,"directionsTimeAttribute",void 0),t([i({type:Boolean,json:{write:!0}})],u.prototype,"findBestSequence",void 0),t([i({type:Number,json:{write:!0}})],u.prototype,"geometryPrecision",void 0),t([i({type:Number,json:{write:!0}})],u.prototype,"geometryPrecisionM",void 0),t([i({type:Number,json:{write:!0}})],u.prototype,"geometryPrecisionZ",void 0),t([i({type:Boolean,json:{write:!0}})],u.prototype,"ignoreInvalidLocations",void 0),t([F(z,{name:"impedanceAttributeName",ignoreUnknown:!1})],u.prototype,"impedanceAttribute",void 0),t([i({type:Number,json:{write:!0}})],u.prototype,"outputGeometryPrecision",void 0),t([F(Dt)],u.prototype,"outputGeometryPrecisionUnits",void 0),t([F(fr)],u.prototype,"outputLines",void 0),t([i({type:ae,json:{name:"outSR",write:!0}})],u.prototype,"outSpatialReference",void 0),t([i({json:{write:!0}})],u.prototype,"overrides",void 0),t([i({json:{name:"barriers",write:!0}})],u.prototype,"pointBarriers",void 0),t([W("pointBarriers")],u.prototype,"writePointBarriers",null),t([i({json:{write:!0}})],u.prototype,"polygonBarriers",void 0),t([W("polygonBarriers")],u.prototype,"writePolygonBarrier",null),t([i({json:{write:!0}})],u.prototype,"polylineBarriers",void 0),t([W("polylineBarriers")],u.prototype,"writePolylineBarrier",null),t([i({type:Boolean,json:{write:!0}})],u.prototype,"preserveFirstStop",void 0),t([i({type:Boolean,json:{write:!0}})],u.prototype,"preserveLastStop",void 0),t([i({type:Boolean,json:{write:!0}})],u.prototype,"preserveObjectID",void 0),t([i({type:[String],json:{name:"restrictionAttributeNames",write:!0}})],u.prototype,"restrictionAttributes",void 0),t([f("restrictionAttributes")],u.prototype,"readRestrictionAttributes",null),t([W("restrictionAttributes")],u.prototype,"writeRestrictionAttributes",null),t([F(It)],u.prototype,"restrictUTurns",void 0),t([i({type:Boolean,json:{write:!0}})],u.prototype,"returnBarriers",void 0),t([i({type:Boolean,json:{write:!0}})],u.prototype,"returnDirections",void 0),t([i({type:Boolean,json:{write:!0}})],u.prototype,"returnPolygonBarriers",void 0),t([i({type:Boolean,json:{write:!0}})],u.prototype,"returnPolylineBarriers",void 0),t([i({type:Boolean,json:{write:!0}})],u.prototype,"returnRoutes",void 0),t([i({type:Boolean,json:{write:!0}})],u.prototype,"returnStops",void 0),t([i({type:Boolean,json:{write:!0}})],u.prototype,"returnTraversedEdges",void 0),t([i({type:Boolean,json:{write:!0}})],u.prototype,"returnTraversedJunctions",void 0),t([i({type:Boolean,json:{write:!0}})],u.prototype,"returnTraversedTurns",void 0),t([i({type:Boolean,json:{write:!0}})],u.prototype,"returnZ",void 0),t([i({json:{write:!0}})],u.prototype,"startTime",void 0),t([f("startTime")],u.prototype,"readStartTime",null),t([W("startTime")],u.prototype,"writeStartTime",null),t([i({type:Boolean,json:{write:!0}})],u.prototype,"startTimeIsUTC",void 0),t([i({json:{write:!0}})],u.prototype,"stops",void 0),t([f("stops")],u.prototype,"readStops",null),t([W("stops")],u.prototype,"writeStops",null),t([i({type:Boolean,json:{write:!0}})],u.prototype,"timeWindowsAreUTC",void 0),t([i({type:P,json:{write:!0}})],u.prototype,"travelMode",void 0),t([i({type:Boolean,json:{write:!0}})],u.prototype,"useHierarchy",void 0),t([i({type:Boolean,json:{write:!0}})],u.prototype,"useTimeWindows",void 0),u=lt=t([C("esri.rest.support.RouteParameters")],u);var ut,ge;let p=(ge=class extends Q(M){constructor(e){super(e),this.arriveCurbApproach=null,this.arriveTime=null,this.arriveTimeOffset=null,this.bearing=null,this.bearingTol=null,this.cumulativeCosts=null,this.cumulativeDistance=null,this.cumulativeDuration=null,this.curbApproach=null,this.departCurbApproach=null,this.departTime=null,this.departTimeOffset=null,this.distanceToNetworkInMeters=null,this.geometry=null,this.lateDuration=null,this.locationType=null,this.name=null,this.navLatency=null,this.objectId=null,this.popupTemplate=null,this.posAlong=null,this.routeName=null,this.serviceCosts=null,this.serviceDistance=null,this.serviceDuration=null,this.sequence=null,this.sideOfEdge=null,this.snapX=null,this.snapY=null,this.snapZ=null,this.sourceId=null,this.sourceOid=null,this.status=null,this.symbol=null,this.timeWindowEnd=null,this.timeWindowEndOffset=null,this.timeWindowStart=null,this.timeWindowStartOffset=null,this.type="stop",this.violations=null,this.waitDuration=null,this.wait=null}readArriveTimeOffset(e,r){return Le(r.attributes.ArriveTime,r.attributes.ArriveTimeUTC)}readCumulativeCosts(e,r){return ie(r.attributes,"Cumul_")}readDepartTimeOffset(e,r){return Le(r.attributes.DepartTime,r.attributes.DepartTimeUTC)}readServiceCosts(e,r){return ie(r.attributes,"Attr_")}writeServiceCosts(e,r){ct(e,r,"Attr_")}writeTimeWindowEnd(e,r){e!=null&&(r.attributes||(r.attributes={}),r.attributes.TimeWindowEnd=e.getTime())}writeTimeWindowStart(e,r){e!=null&&(r.attributes||(r.attributes={}),r.attributes.TimeWindowStart=e.getTime())}readViolations(e,r){return ie(r.attributes,"Violation_")}readWait(e,r){return ie(r.attributes,"Wait_")}static fromGraphic(e){return new ut({arriveCurbApproach:e.attributes.ArrivalCurbApproach!=null?_.fromJSON(e.attributes.ArrivalCurbApproach):null,arriveTime:e.attributes.ArrivalTime!=null?new Date(e.attributes.ArrivalTime):null,arriveTimeOffset:e.attributes.ArrivalUTCOffset,cumulativeCosts:e.attributes.CumulativeCosts!=null?Ie(JSON.parse(e.attributes.CumulativeCosts)):null,cumulativeDistance:e.attributes.CumulativeMeters??null,cumulativeDuration:e.attributes.CumulativeMinutes??null,curbApproach:e.attributes.CurbApproach!=null?_.fromJSON(e.attributes.CurbApproach):null,departCurbApproach:e.attributes.DepartureCurbApproach!=null?_.fromJSON(e.attributes.DepartureCurbApproach):null,departTime:e.attributes.DepartureTime!=null?new Date(e.attributes.DepartureTime):null,departTimeOffset:e.attributes.DepartureUTCOffset??null,geometry:e.geometry,lateDuration:e.attributes.LateMinutes??null,locationType:e.attributes.LocationType!=null?Fe.fromJSON(e.attributes.LocationType):null,name:e.attributes.Name,objectId:e.attributes.ObjectID??e.attributes.__OBJECTID,popupTemplate:e.popupTemplate,routeName:e.attributes.RouteName,sequence:e.attributes.Sequence??null,serviceCosts:e.attributes.ServiceCosts!=null?Ie(JSON.parse(e.attributes.ServiceCosts)):null,serviceDistance:e.attributes.ServiceMeters??null,serviceDuration:e.attributes.ServiceMinutes??null,status:e.attributes.Status!=null?pe.fromJSON(e.attributes.Status):null,symbol:e.symbol,timeWindowEnd:e.attributes.TimeWindowEnd!=null?new Date(e.attributes.TimeWindowEnd):null,timeWindowEndOffset:e.attributes.TimeWindowEndUTCOffset??null,timeWindowStart:e.attributes.TimeWindowStart!=null?new Date(e.attributes.TimeWindowStart):null,timeWindowStartOffset:e.attributes.TimeWindowStartUTCOffset??null,waitDuration:e.attributes.WaitMinutes??null})}toGraphic(){const e={ObjectID:this.objectId,ArrivalCurbApproach:this.arriveCurbApproach?_.toJSON(this.arriveCurbApproach):null,ArrivalTime:this.arriveTime?.getTime()??null,ArrivalUTCOffset:this.arriveTimeOffset,CumulativeCosts:this.cumulativeCosts?JSON.stringify(je(this.cumulativeCosts)):null,CumulativeMeters:this.cumulativeDistance,CumulativeMinutes:this.cumulativeDuration,CurbApproach:this.curbApproach?_.toJSON(this.curbApproach):null,DepartureCurbApproach:this.departCurbApproach?_.toJSON(this.departCurbApproach):null,DepartureTime:this.departTime?.getTime()??null,DepartureUTCOffset:this.departTimeOffset,LateMinutes:this.lateDuration,LocationType:this.locationType?Fe.toJSON(this.locationType):null,Name:this.name,RouteName:this.routeName,Sequence:this.sequence,ServiceCosts:this.serviceCosts?JSON.stringify(je(this.serviceCosts)):null,ServiceMeters:this.serviceDistance,ServiceMinutes:this.serviceDuration,Status:this.status?pe.toJSON(this.status):null,TimeWindowEnd:this.timeWindowEnd?.getTime()??null,TimeWindowEndUTCOffset:this.timeWindowEndOffset??this.arriveTimeOffset,TimeWindowStart:this.timeWindowStart?.getTime()??null,TimeWindowStartUTCOffset:this.timeWindowStartOffset??this.arriveTimeOffset,WaitMinutes:this.waitDuration};return new G({geometry:this.geometry,attributes:e,symbol:this.symbol,popupTemplate:this.popupTemplate})}},ut=ge,ge.fields=[{name:"ObjectID",alias:"ObjectID",type:"esriFieldTypeOID"},{name:"ArrivalCurbApproach",alias:"Arrival Curb Approach",type:"esriFieldTypeInteger"},{name:"ArrivalTime",alias:"Arrival Time",type:"esriFieldTypeDate"},{name:"ArrivalUTCOffset",alias:"Arrival Time",type:"esriFieldTypeInteger"},{name:"CumulativeCosts",alias:"Cumulative Costs",type:"esriFieldTypeString"},{name:"CumulativeMeters",alias:"Cumulative Meters",type:"esriFieldTypeDouble"},{name:"CumulativeMinutes",alias:"Cumulative Minutes",type:"esriFieldTypeDouble"},{name:"CurbApproach",alias:"Curb Approach",type:"esriFieldTypeInteger"},{name:"DepartureCurbApproach",alias:"Departure Curb Approach",type:"esriFieldTypeInteger"},{name:"DepartureTime",alias:"Departure Time",type:"esriFieldTypeDate"},{name:"DepartureUTCOffset",alias:"Departure Time",type:"esriFieldTypeInteger"},{name:"LateMinutes",alias:"Minutes Late",type:"esriFieldTypeDouble"},{name:"LocationType",alias:"Location Type",type:"esriFieldTypeInteger"},{name:"Name",alias:"Name",type:"esriFieldTypeString"},{name:"RouteName",alias:"Route Name",type:"esriFieldTypeString"},{name:"Sequence",alias:"Sequence",type:"esriFieldTypeInteger"},{name:"ServiceCosts",alias:"Service Costs",type:"esriFieldTypeString"},{name:"ServiceMeters",alias:"Service Meters",type:"esriFieldTypeDouble"},{name:"ServiceMinutes",alias:"Service Minutes",type:"esriFieldTypeDouble"},{name:"Status",alias:"Status",type:"esriFieldTypeInteger"},{name:"TimeWindowEnd",alias:"Time Window End",type:"esriFieldTypeDate"},{name:"TimeWindowEndUTCOffset",alias:"Time Window End Offset",type:"esriFieldTypeInteger"},{name:"TimeWindowStart",alias:"Time Window Start",type:"esriFieldTypeDate"},{name:"TimeWindowStartUTCOffset",alias:"Time Window Start Offset",type:"esriFieldTypeInteger"},{name:"WaitMinutes",alias:"Minutes Wait",type:"esriFieldTypeDouble"}],ge);t([i({type:_.apiValues,json:{read:{source:"attributes.ArrivalCurbApproach",reader:_.read}}})],p.prototype,"arriveCurbApproach",void 0),t([i({type:Date,json:{read:{source:"attributes.ArriveTimeUTC"}}})],p.prototype,"arriveTime",void 0),t([i()],p.prototype,"arriveTimeOffset",void 0),t([f("arriveTimeOffset",["attributes.ArriveTime","attributes.ArriveTimeUTC"])],p.prototype,"readArriveTimeOffset",null),t([i({json:{name:"attributes.Bearing",read:!1,write:!0}})],p.prototype,"bearing",void 0),t([i({json:{name:"attributes.BearingTol",read:!1,write:!0}})],p.prototype,"bearingTol",void 0),t([i()],p.prototype,"cumulativeCosts",void 0),t([f("cumulativeCosts",["attributes"])],p.prototype,"readCumulativeCosts",null),t([i()],p.prototype,"cumulativeDistance",void 0),t([i()],p.prototype,"cumulativeDuration",void 0),t([i({type:_.apiValues,json:{name:"attributes.CurbApproach",read:{reader:_.read},write:{writer:_.write}}})],p.prototype,"curbApproach",void 0),t([i({type:_.apiValues,json:{read:{source:"attributes.DepartCurbApproach",reader:_.read}}})],p.prototype,"departCurbApproach",void 0),t([i({type:Date,json:{read:{source:"attributes.DepartTimeUTC"}}})],p.prototype,"departTime",void 0),t([i()],p.prototype,"departTimeOffset",void 0),t([f("departTimeOffset",["attributes.DepartTime","attributes.DepartTimeUTC"])],p.prototype,"readDepartTimeOffset",null),t([i({json:{read:{source:"attributes.DistanceToNetworkInMeters"}}})],p.prototype,"distanceToNetworkInMeters",void 0),t([i({type:Pe,json:{write:!0}})],p.prototype,"geometry",void 0),t([i()],p.prototype,"lateDuration",void 0),t([i({type:Fe.apiValues,json:{name:"attributes.LocationType",read:{reader:Fe.read},write:{writer:Fe.write}}})],p.prototype,"locationType",void 0),t([i({json:{name:"attributes.Name"}})],p.prototype,"name",void 0),t([i({json:{name:"attributes.NavLatency",read:!1,write:!0}})],p.prototype,"navLatency",void 0),t([i({json:{name:"attributes.ObjectID"}})],p.prototype,"objectId",void 0),t([i({type:ce})],p.prototype,"popupTemplate",void 0),t([i({json:{read:{source:"attributes.PosAlong"}}})],p.prototype,"posAlong",void 0),t([i({json:{name:"attributes.RouteName"}})],p.prototype,"routeName",void 0),t([i()],p.prototype,"serviceCosts",void 0),t([f("serviceCosts",["attributes"])],p.prototype,"readServiceCosts",null),t([W("serviceCosts")],p.prototype,"writeServiceCosts",null),t([i()],p.prototype,"serviceDistance",void 0),t([i()],p.prototype,"serviceDuration",void 0),t([i({json:{name:"attributes.Sequence"}})],p.prototype,"sequence",void 0),t([i({type:qe.apiValues,json:{read:{source:"attributes.SideOfEdge",reader:qe.read}}})],p.prototype,"sideOfEdge",void 0),t([i({json:{read:{source:"attributes.SnapX"}}})],p.prototype,"snapX",void 0),t([i({json:{read:{source:"attributes.SnapY"}}})],p.prototype,"snapY",void 0),t([i({json:{read:{source:"attributes.SnapZ"}}})],p.prototype,"snapZ",void 0),t([i({json:{read:{source:"attributes.SourceID"}}})],p.prototype,"sourceId",void 0),t([i({json:{read:{source:"attributes.SourceOID"}}})],p.prototype,"sourceOid",void 0),t([i({type:pe.apiValues,json:{read:{source:"attributes.Status",reader:pe.read}}})],p.prototype,"status",void 0),t([i({types:Se})],p.prototype,"symbol",void 0),t([i({type:Date,json:{name:"attributes.TimeWindowEnd"}})],p.prototype,"timeWindowEnd",void 0),t([W("timeWindowEnd")],p.prototype,"writeTimeWindowEnd",null),t([i()],p.prototype,"timeWindowEndOffset",void 0),t([i({type:Date,json:{name:"attributes.TimeWindowStart"}})],p.prototype,"timeWindowStart",void 0),t([W("timeWindowStart")],p.prototype,"writeTimeWindowStart",null),t([i()],p.prototype,"timeWindowStartOffset",void 0),t([i({readOnly:!0,json:{read:!1}})],p.prototype,"type",void 0),t([i()],p.prototype,"violations",void 0),t([f("violations",["attributes"])],p.prototype,"readViolations",null),t([i()],p.prototype,"waitDuration",void 0),t([i()],p.prototype,"wait",void 0),t([f("wait",["attributes"])],p.prototype,"readWait",null),p=ut=t([C("esri.rest.support.Stop")],p);function Re(o){if(!o.length)return;const e=o.toArray(),r=e.map(({objectId:a})=>a).filter(a=>a!=null);let s=Math.max(...r,0);for(const a of e)a.objectId==null&&(a.objectId=++s)}function Je(o,e){return!!o.length&&o.length===e.length&&ft(o)&&ft(e)}function ft(o){return o.every(({objectId:e})=>e!=null)}function Ke(o){return o.length?o:null}function pt(o){switch(o){case"esriGeometryPoint":return{type:"esriSMS",style:"esriSMSCircle",size:12,color:[0,0,0,0],outline:pt("esriGeometryPolyline")};case"esriGeometryPolyline":return{type:"esriSLS",style:"esriSLSSolid",width:1,color:[0,0,0,0]};case"esriGeometryPolygon":return{type:"esriSFS",style:"esriSFSNull",outline:pt("esriGeometryPolyline")}}}function _e(o){return"layers"in o}function Wr(o){return o.declaredClass==="esri.rest.support.FeatureSet"}function Ur(o){return o.declaredClass==="esri.rest.support.NetworkFeatureSet"}function xr(o,e){for(const r of o){const s=e.find(a=>a.objectId===r.objectId);s&&(s.addedCost=r.addedCost,s.barrierType=r.barrierType,s.costs=r.costs,s.curbApproach=r.curbApproach,s.fullEdge=r.fullEdge,s.geometry=r.geometry,s.name=r.name,s.sideOfEdge=r.sideOfEdge,s.sourceId=r.sourceId,s.sourceOid=r.sourceOid,s.status=r.status,s.symbol=r.symbol)}}function kr(o,e){for(const r of o){const s=e.find(a=>a.objectId===r.objectId);s&&(s.barrierType=r.barrierType,s.costs=r.costs,s.geometry=r.geometry,s.name=r.name,s.scaleFactor=r.scaleFactor,s.symbol=r.symbol)}}function Vr(o,e){for(const r of o){const s=e.find(a=>a.objectId===r.objectId);s&&(s.barrierType=r.barrierType,s.costs=r.costs,s.geometry=r.geometry,s.name=r.name,s.scaleFactor=r.scaleFactor,s.symbol=r.symbol)}}function Gr(o,e){for(const r of o){const s=e.find(a=>a.objectId===r.objectId);s&&(s.arriveCurbApproach=r.arriveCurbApproach,s.arriveTime=r.arriveTime,s.arriveTimeOffset=r.arriveTimeOffset,s.cumulativeCosts=r.cumulativeCosts,s.cumulativeDistance=r.cumulativeDistance,s.cumulativeDuration=r.cumulativeDuration,s.curbApproach=r.curbApproach,s.departCurbApproach=r.departCurbApproach,s.departTime=r.departTime,s.departTimeOffset=r.departTimeOffset,s.distanceToNetworkInMeters=r.distanceToNetworkInMeters,s.geometry=r.geometry,s.lateDuration=r.lateDuration,s.name=r.name,s.navLatency=r.navLatency,s.posAlong=r.posAlong,s.routeName=r.routeName,s.serviceCosts=r.serviceCosts,s.serviceDistance=r.serviceDistance,s.serviceDuration=r.serviceDuration,s.sequence=r.sequence,s.sideOfEdge=r.sideOfEdge,s.snapX=r.snapX,s.snapY=r.snapY,s.snapZ=r.snapZ,s.sourceId=r.sourceId,s.sourceOid=r.sourceOid,s.status=r.status,s.symbol=r.symbol,s.timeWindowEnd=r.timeWindowEnd,s.timeWindowStart=r.timeWindowStart,s.violations=r.violations,s.waitDuration=r.waitDuration,s.wait=r.wait)}}async function vt(o){const e=ae.WGS84;return await Xt(o.spatialReference,e),Kt(o,e)}function de(o,e){switch(e){case"seconds":return o/60;case"hours":return 60*o;case"days":return 60*o*24;default:return o}}function Xe(o,e){return e==="decimal-degrees"||e==="points"||e==="unknown"?o:zt(o,e,"meters")}function qr(o){const{attributes:e,geometry:r,popupTemplate:s,symbol:a}=o.toGraphic().toJSON();return{attributes:e,geometry:r,popupInfo:s,symbol:a}}const zr=U.ofType(R),Zr=U.ofType(D),bt=U.ofType(B),Tt=U.ofType(E),gt=U.ofType(J),wt=U.ofType(p);let T=class extends Qt(rr(er(tr(Ht(Zt))))){constructor(o){super(o),this._cachedServiceDescription=null,this._featureCollection=null,this._type="Feature Collection",this.checksum=null,this.defaultSymbols=new X,this.directionLines=null,this.directionPoints=null,this.featureCollectionType="route",this.legendEnabled=!1,this.maxScale=0,this.minScale=0,this.pointBarriers=new bt,this.polygonBarriers=new Tt,this.polylineBarriers=new gt,this.routeInfo=null,this.spatialReference=ae.WGS84,this.stops=new wt,this.type="route";const e=()=>{this._setStopSymbol(this.stops)};this.addHandles(Wt(()=>this.stops,"change",e,{sync:!0,onListenerAdd:e}))}writeFeatureCollectionWebmap(o,e,r,s){const a=[this._writePolygonBarriers(),this._writePolylineBarriers(),this._writePointBarriers(),this._writeRouteInfo(),this._writeDirectionLines(),this._writeDirectionPoints(),this._writeStops()].filter(y=>!!y),c=a.map((y,S)=>S),n=s.origin==="web-map"?"featureCollection.layers":"layers";Ut(n,a,e),e.opacity=this.opacity,e.visibility=this.visible,e.visibleLayers=c}readDirectionLines(o,e){return this._getNetworkFeatures(e,"DirectionLines",r=>R.fromGraphic(r))}readDirectionPoints(o,e){return this._getNetworkFeatures(e,"DirectionPoints",r=>D.fromGraphic(r))}get fullExtent(){const o=new Nt({xmin:-180,ymin:-90,xmax:180,ymax:90,spatialReference:ae.WGS84});if(this.routeInfo?.geometry!=null)return this.routeInfo.geometry.extent??o;if(this.stops==null)return o;const e=this.stops.filter(a=>a.geometry!=null);if(e.length<2)return o;const{spatialReference:r}=e.at(0).geometry;if(r==null)return o;const s=e.toArray().map(a=>{const c=a.geometry;return[c.x,c.y]});return new xt({points:s,spatialReference:r}).extent}readMaxScale(o,e){return(_e(e)?e.layers:e.featureCollection?.layers)?.find(a=>a.layerDefinition.maxScale!=null)?.layerDefinition.maxScale??0}readMinScale(o,e){return(_e(e)?e.layers:e.featureCollection?.layers)?.find(a=>a.layerDefinition.minScale!=null)?.layerDefinition.minScale??0}readPointBarriers(o,e){return this._getNetworkFeatures(e,"Barriers",r=>B.fromGraphic(r))}readPolygonBarriers(o,e){return this._getNetworkFeatures(e,"PolygonBarriers",r=>E.fromGraphic(r))}readPolylineBarriers(o,e){return this._getNetworkFeatures(e,"PolylineBarriers",r=>J.fromGraphic(r))}readRouteInfo(o,e){return this._getNetworkFeatures(e,"RouteInfo",r=>w.fromGraphic(r)).at(0)??null}readSpatialReference(o,e){const r=_e(e)?e.layers:e.featureCollection?.layers;if(!r?.length)return ae.WGS84;const{layerDefinition:s,featureSet:a}=r[0],c=a.features[0],n=c?.geometry?.spatialReference??a.spatialReference??s.spatialReference??s.extent.spatialReference??yt;return ae.fromJSON(n)}readStops(o,e){return this._getNetworkFeatures(e,"Stops",r=>p.fromGraphic(r),r=>this._setStopSymbol(r))}get title(){return this.routeInfo?.name??"Route"}set title(o){this._overrideIfSome("title",o)}get url(){return mt.routeServiceUrl}set url(o){o!=null?this._set("url",kt(o,Qe.getLogger(this))):this._set("url",mt.routeServiceUrl)}load(o){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Feature Collection"]},o)),Promise.resolve(this)}removeAll(){this.removeResult(),this.pointBarriers.removeAll(),this.polygonBarriers.removeAll(),this.polylineBarriers.removeAll(),this.stops.removeAll()}removeResult(){this.directionLines!=null&&(this.directionLines.removeAll(),this._set("directionLines",null)),this.directionPoints!=null&&(this.directionPoints.removeAll(),this._set("directionPoints",null)),this.routeInfo!=null&&this._set("routeInfo",null)}async save(){await this.load();const{fullExtent:o,portalItem:e}=this;if(!e)throw new Y("routelayer:portal-item-not-set","save() requires to the layer to have a portal item");if(!e.id)throw new Y("routelayer:portal-item-not-saved","Please use saveAs() first to save the routelayer");if(e.type!=="Feature Collection")throw new Y("routelayer:portal-item-wrong-type",'Portal item needs to have type "Feature Collection"');if(!this.routeInfo)throw new Y("routelayer:route-unsolved","save() requires a solved route");const{portal:r}=e;await r.signIn(),r.user||await e.reload();const{itemUrl:s,itemControl:a}=e;if(a!=="admin"&&a!=="update")throw new Y("routelayer:insufficient-permissions","To save this layer, you need to be the owner or an administrator of your organization");const c={messages:[],origin:"portal-item",portal:r,url:s?Vt(s):void 0,writtenProperties:[]},n=this.write(void 0,c);return e.extent=await vt(o),e.title=this.title,await e.update({data:n}),e}async saveAs(o,e={}){if(await this.load(),this.routeInfo==null)throw new Y("routelayer:route-unsolved","saveAs() requires a solved route");const r=ir.from(o).clone();r.extent??=await vt(this.fullExtent),r.id=null,r.portal??=Gt.getDefault(),r.title??=this.title,r.type="Feature Collection",r.typeKeywords=["Data","Feature Collection",or.MULTI_LAYER,"Route Layer"];const{portal:s}=r,a={messages:[],origin:"portal-item",portal:s,url:null,writtenProperties:[]};await s.signIn();const c=e?.folder,n=this.write(void 0,a);return await s.user.addItem({item:r,folder:c,data:n}),this.portalItem=r,Yt(a),a.portalItem=r,r}async solve(o,e){Re(this.stops),Re(this.pointBarriers),Re(this.polylineBarriers),Re(this.polygonBarriers);const r=o?.stops??this.stops,s=o?.pointBarriers??Ke(this.pointBarriers),a=o?.polylineBarriers??Ke(this.polylineBarriers),c=o?.polygonBarriers??Ke(this.polygonBarriers);if(r==null)throw new Y("routelayer:undefined-stops","the route layer must have stops defined in the route parameters.");if((Wr(r)||Ur(r))&&r.features.length<2||U.isCollection(r)&&r.length<2)throw new Y("routelayer:insufficent-stops","the route layer must have two or more stops to solve a route.");if(U.isCollection(r))for(const m of r)m.routeName=null;const n=o?.apiKey,{checksum:y,url:S}=this,A=await this._getServiceDescription(S,n,e),h=o?.travelMode??A.defaultTravelMode,l=o?.accumulateAttributes??[];h&&(l.push(h.distanceAttributeName),h.timeAttributeName&&l.push(h.timeAttributeName));const b={accumulateAttributes:l,checksum:y,directionsOutputType:"featuresets",ignoreInvalidLocations:!0,pointBarriers:s,polylineBarriers:a,polygonBarriers:c,preserveObjectID:!0,returnBarriers:!!s,returnDirections:!0,returnPolygonBarriers:!!c,returnPolylineBarriers:!!a,returnRoutes:!0,returnStops:!0,stops:r},j=u.from(o??{});let g;j.set(b);try{g=await Pr(S,j,e)}catch(m){throw qt(m)?m:new Y("routelayer:failed-route-request","the routing request failed",{error:m})}const N=this._toRouteLayerSolution(g);return this._isOverridden("title")||(this.title=N.routeInfo.name??"Route"),this._populatePortalFields(N,A,j),N}update(o){const{checksum:e,directionLines:r,directionPoints:s,pointBarriers:a,polygonBarriers:c,polylineBarriers:n,routeInfo:y,stops:S}=o;Je(S,this.stops)?Gr(S,this.stops):this.set({stops:S}),Je(a,this.pointBarriers)?xr(a,this.pointBarriers):this.set({pointBarriers:a}),Je(n,this.polylineBarriers)?kr(n,this.polylineBarriers):this.set({polylineBarriers:n}),Je(c,this.polygonBarriers)?Vr(c,this.polygonBarriers):this.set({polygonBarriers:c}),this.set({checksum:e}),this._set("directionLines",r),this._set("directionPoints",s),this._set("routeInfo",y),y.geometry!=null&&(this.spatialReference=y.geometry.spatialReference)}_getNetworkFeatures(o,e,r,s){const a=_e(o)?o.layers:o.featureCollection?.layers,c=a?.find(N=>N.layerDefinition.name===e);if(c==null)return new U;const{layerDefinition:n,popupInfo:y,featureSet:S}=c,A=n.drawingInfo.renderer,{features:h}=S,l=S.spatialReference??n.spatialReference??n.extent.spatialReference??yt,b=A&&sr(A),j=ae.fromJSON(l),g=h.map(N=>{const m=G.fromJSON(N);m.geometry!=null&&N.geometry!=null&&N.geometry.spatialReference==null&&(m.geometry.spatialReference=j);const O=r(m);return O.symbol??=b?.getSymbol(m)??this._getNetworkSymbol(e),O.popupTemplate??=y&&ce.fromJSON(y),O});return s&&g.some(({symbol:N})=>!N)&&s(g),new U(g)}_getNetworkSymbol(o){switch(o){case"Barriers":return this.defaultSymbols.pointBarriers;case"DirectionPoints":return this.defaultSymbols.directionPoints;case"DirectionLines":return this.defaultSymbols.directionLines;case"PolylineBarriers":return this.defaultSymbols.polylineBarriers;case"PolygonBarriers":return this.defaultSymbols.polygonBarriers;case"RouteInfo":return this.defaultSymbols.routeInfo;case"Stops":return null}}async _getServiceDescription(o,e,r){if(this._cachedServiceDescription!=null&&this._cachedServiceDescription.url===o)return this._cachedServiceDescription.serviceDescription;const s=await Ct(o,e,r);return this._cachedServiceDescription={serviceDescription:s,url:o},s}_setStopSymbol(o){if(!o||!o.length||!this.defaultSymbols.stops||o.every(({symbol:l})=>!!l))return;const{first:e,last:r,middle:s,unlocated:a,waypoint:c,break:n}=this.defaultSymbols.stops,y=o.map(({sequence:l})=>l).filter(l=>l!=null),S=o.length===y.length;if(!this.routeInfo&&!S||o.length===1)return void o.forEach((l,b)=>{switch(b){case 0:l.symbol=e;break;case o.length-1:l.symbol=r;break;default:l.symbol=s}});const A=Math.min(...y),h=Math.max(...y);for(const l of o)l.sequence!==A?l.sequence!==h?this.routeInfo&&l.status!=="ok"&&l.status!=="not-located-on-closest"?l.symbol=a:l.locationType!=="waypoint"?l.locationType!=="break"?l.symbol=s:l.symbol=n:l.symbol=c:l.symbol=r:l.symbol=e}_toRouteLayerSolution(o){const{checksum:e,routeResults:r}=o,s=r[0].stops?.map(l=>p.fromJSON(l.toJSON()));this._setStopSymbol(s);const a=new wt(s),c=new Tt(o.polygonBarriers?.map(l=>{const b=E.fromJSON(l.toJSON());return b.symbol=this.defaultSymbols.polygonBarriers,b})),n=new gt(o.polylineBarriers?.map(l=>{const b=J.fromJSON(l.toJSON());return b.symbol=this.defaultSymbols.polylineBarriers,b})),y=new bt(o.pointBarriers?.map(l=>{const b=B.fromJSON(l.toJSON());return b.symbol=this.defaultSymbols.pointBarriers,b})),S=r[0].route?.toJSON(),A=w.fromJSON(S);A.symbol=this.defaultSymbols.routeInfo;const h=new Zr(r[0].directionPoints?.features.map(l=>{const b=D.fromJSON(l.toJSON());return b.symbol=this.defaultSymbols.directionPoints,b}));return{checksum:e,directionLines:new zr(r[0].directionLines?.features.map(l=>{const b=R.fromJSON(l.toJSON());return b.symbol=this.defaultSymbols.directionLines,b})),directionPoints:h,pointBarriers:y,polygonBarriers:c,polylineBarriers:n,routeInfo:A,stops:a}}_writeDirectionLines(){return this._writeNetworkFeatures(this.directionLines,this.defaultSymbols.directionLines,"esriGeometryPolyline",R.fields,"DirectionLines","Direction Lines")}_writeDirectionPoints(){return this._writeNetworkFeatures(this.directionPoints,this.defaultSymbols.directionPoints,"esriGeometryPoint",D.fields,"DirectionPoints","Direction Points")}_writeNetworkFeatures(o,e,r,s,a,c){if(!o?.length)return null;const n=this.spatialReference.toJSON(),{fullExtent:y,maxScale:S,minScale:A}=this;return{featureSet:{features:o.toArray().map(h=>qr(h)),geometryType:r,spatialReference:n},layerDefinition:{capabilities:"Query,Update,Editing",drawingInfo:{renderer:{type:"simple",symbol:e!=null?e.toJSON():pt(r)}},extent:y.toJSON(),fields:s,geometryType:r,hasM:!1,hasZ:!1,maxScale:S,minScale:A,name:a,objectIdField:"ObjectID",spatialReference:n,title:c,type:"Feature Layer",typeIdField:""}}}_writePointBarriers(){return this._writeNetworkFeatures(this.pointBarriers,this.defaultSymbols.pointBarriers,"esriGeometryPoint",B.fields,"Barriers","Point Barriers")}_writePolygonBarriers(){return this._writeNetworkFeatures(this.polygonBarriers,this.defaultSymbols.polygonBarriers,"esriGeometryPolygon",E.fields,"PolygonBarriers","Polygon Barriers")}_writePolylineBarriers(){return this._writeNetworkFeatures(this.polylineBarriers,this.defaultSymbols.polylineBarriers,"esriGeometryPolyline",J.fields,"PolylineBarriers","Line Barriers")}_writeRouteInfo(){return this._writeNetworkFeatures(this.routeInfo!=null?new U([this.routeInfo]):null,this.defaultSymbols.routeInfo,"esriGeometryPolyline",w.fields,"RouteInfo","Route Details")}_writeStops(){const o=this._writeNetworkFeatures(this.stops,null,"esriGeometryPoint",p.fields,"Stops","Stops");if(o==null)return null;const{stops:e}=this.defaultSymbols,r=e?.first?.toJSON(),s=e?.middle?.toJSON(),a=e?.last?.toJSON();return o.layerDefinition.drawingInfo.renderer={type:"uniqueValue",field1:"Sequence",defaultSymbol:s,uniqueValueInfos:[{value:"1",symbol:r,label:"First Stop"},{value:`${this.stops.length}`,symbol:a,label:"Last Stop"}]},o}_populatePortalFields(o,e,r){const s=e.networkDataset?.networkAttributes,a=s?.filter(({usageType:d})=>d==="cost")??[],c=r.travelMode??e.defaultTravelMode;if(c==null)return void Qe.getLogger(this).warn("route-layer:missing-travel-mode","The routing service must have a default travel mode or one must be specified in the route parameter.");const{timeAttributeName:n,distanceAttributeName:y}=c,S=a.find(({name:d})=>d===n),A=a.find(({name:d})=>d===y),h=r.travelMode?.impedanceAttributeName??r.impedanceAttribute??e.impedance,l=S?.units,b=A?.units;if(!l||!b)throw new Y("routelayer:unknown-impedance-units","the units of either the distance or time impedance are unknown");const j=r.directionsLanguage??e.directionsLanguage,g=r.accumulateAttributes??e.accumulateAttributeNames??[],N=new Set(a.filter(({name:d})=>d===n||d===y||d===h||d!=null&&g.includes(d)).map(({name:d})=>d)),m=d=>{for(const dt in d)N.has(dt)||delete d[dt]};for(const d of o.pointBarriers)d.costs!=null&&(d.addedCost=d.costs[h]??0,m(d.costs));for(const d of o.polygonBarriers)d.costs!=null&&(d.scaleFactor=d.costs[h]??1,m(d.costs));for(const d of o.polylineBarriers)d.costs!=null&&(d.scaleFactor=d.costs[h]??1,m(d.costs));const{routeInfo:O}=o,{findBestSequence:v,preserveFirstStop:L,preserveLastStop:I,startTimeIsUTC:x,timeWindowsAreUTC:oe}=r;O.analysisSettings=new V({accumulateAttributes:g,directionsLanguage:j,findBestSequence:v,preserveFirstStop:L,preserveLastStop:I,startTimeIsUTC:x,timeWindowsAreUTC:oe,travelMode:c}),O.totalDuration=de(O.totalCosts?.[n]??0,l),O.totalDistance=Xe(O.totalCosts?.[y]??0,b),O.totalLateDuration=de(O.totalViolations?.[n]??0,l),O.totalWaitDuration=de(O.totalWait?.[n]??0,l),O.totalCosts!=null&&m(O.totalCosts),O.totalViolations!=null&&m(O.totalViolations),O.totalWait!=null&&m(O.totalWait);for(const d of o.stops)d.serviceCosts!=null&&(d.serviceDuration=de(d.serviceCosts[n]??0,l),d.serviceDistance=Xe(d.serviceCosts[y]??0,b),m(d.serviceCosts)),d.cumulativeCosts!=null&&(d.cumulativeDuration=de(d.cumulativeCosts[n]??0,l),d.cumulativeDistance=Xe(d.cumulativeCosts[y]??0,b),m(d.cumulativeCosts)),d.violations!=null&&(d.lateDuration=de(d.violations[n]??0,l),m(d.violations)),d.wait!=null&&(d.waitDuration=de(d.wait[n]??0,l),m(d.wait))}};t([i({readOnly:!0,json:{read:!1,origins:{"portal-item":{write:{allowNull:!0,ignoreOrigin:!0}},"web-map":{write:{overridePolicy(){return{allowNull:!0,ignoreOrigin:this.portalItem==null}}}}}}})],T.prototype,"_featureCollection",void 0),t([W(["web-map","portal-item"],"_featureCollection")],T.prototype,"writeFeatureCollectionWebmap",null),t([i({readOnly:!0,json:{read:!1,origins:{"web-map":{write:{target:"type",overridePolicy(){return{ignoreOrigin:this.portalItem!=null}}}}}}})],T.prototype,"_type",void 0),t([i({type:String})],T.prototype,"checksum",void 0),t([i({nonNullable:!0,type:X})],T.prototype,"defaultSymbols",void 0),t([i({readOnly:!0})],T.prototype,"directionLines",void 0),t([f(["web-map","portal-item"],"directionLines",["layers","featureCollection.layers"])],T.prototype,"readDirectionLines",null),t([i({readOnly:!0})],T.prototype,"directionPoints",void 0),t([f(["web-map","portal-item"],"directionPoints",["layers","featureCollection.layers"])],T.prototype,"readDirectionPoints",null),t([i({readOnly:!0,json:{read:!1,origins:{"web-map":{write:{ignoreOrigin:!0}}}}})],T.prototype,"featureCollectionType",void 0),t([i({readOnly:!0})],T.prototype,"fullExtent",null),t([i({json:{origins:{"web-map":{name:"featureCollection.showLegend"}},write:!0}})],T.prototype,"legendEnabled",void 0),t([i({type:["show","hide"]})],T.prototype,"listMode",void 0),t([i({type:Number,nonNullable:!0,json:{write:!1}})],T.prototype,"maxScale",void 0),t([f(["web-map","portal-item"],"maxScale",["layers","featureCollection.layers"])],T.prototype,"readMaxScale",null),t([i({type:Number,nonNullable:!0,json:{write:!1}})],T.prototype,"minScale",void 0),t([f(["web-map","portal-item"],"minScale",["layers","featureCollection.layers"])],T.prototype,"readMinScale",null),t([i({type:["ArcGISFeatureLayer"],value:"ArcGISFeatureLayer"})],T.prototype,"operationalLayerType",void 0),t([i({nonNullable:!0,type:U.ofType(B)})],T.prototype,"pointBarriers",void 0),t([f(["web-map","portal-item"],"pointBarriers",["layers","featureCollection.layers"])],T.prototype,"readPointBarriers",null),t([i({nonNullable:!0,type:U.ofType(E)})],T.prototype,"polygonBarriers",void 0),t([f(["web-map","portal-item"],"polygonBarriers",["layers","featureCollection.layers"])],T.prototype,"readPolygonBarriers",null),t([i({nonNullable:!0,type:U.ofType(J)})],T.prototype,"polylineBarriers",void 0),t([f(["web-map","portal-item"],"polylineBarriers",["layers","featureCollection.layers"])],T.prototype,"readPolylineBarriers",null),t([i({readOnly:!0})],T.prototype,"routeInfo",void 0),t([f(["web-map","portal-item"],"routeInfo",["layers","featureCollection.layers"])],T.prototype,"readRouteInfo",null),t([i({type:ae})],T.prototype,"spatialReference",void 0),t([f(["web-map","portal-item"],"spatialReference",["layers","featureCollection.layers"])],T.prototype,"readSpatialReference",null),t([i({nonNullable:!0,type:U.ofType(p)})],T.prototype,"stops",void 0),t([f(["web-map","portal-item"],"stops",["layers","featureCollection.layers"])],T.prototype,"readStops",null),t([i()],T.prototype,"title",null),t([i({readOnly:!0,json:{read:!1}})],T.prototype,"type",void 0),t([i()],T.prototype,"url",null),T=t([C("esri.layers.RouteLayer")],T);const eo=T;export{eo as default};
