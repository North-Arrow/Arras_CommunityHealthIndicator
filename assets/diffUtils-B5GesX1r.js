import{bA as j,O as b,i as w}from"./MapPage-za7jC9p0.js";const D=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function p(e){return e instanceof w}function d(e){return e instanceof b?Object.keys(e.items):p(e)?j(e).keys():e?Object.keys(e):[]}function a(e,n){return e instanceof b?e.items[n]:e[n]}function k(e,n){return!(!Array.isArray(e)||!Array.isArray(n))&&e.length!==n.length}function c(e){return e?e.declaredClass:null}function h(e,n){const i=e.diff;if(i&&typeof i=="function")return i(e,n);const f=d(e),u=d(n);if(f.length===0&&u.length===0)return;if(!f.length||!u.length||k(e,n))return{type:"complete",oldValue:e,newValue:n};const V=u.filter(o=>!f.includes(o)),g=f.filter(o=>!u.includes(o)),y=f.filter(o=>u.includes(o)&&a(e,o)!==a(n,o)).concat(V,g).sort(),m=c(e);if(m&&D.has(m)&&y.length)return{type:"complete",oldValue:e,newValue:n};let s;const A=p(e)&&p(n);for(const o of y){const t=a(e,o),l=a(n,o);let r;if((A||typeof t!="function"&&typeof l!="function")&&t!==l&&(t!=null||l!=null)){if(i&&i[o]&&typeof i[o]=="function")r=i[o]?.(t,l);else if(t instanceof Date&&l instanceof Date){if(t.getTime()===l.getTime())continue;r={type:"complete",oldValue:t,newValue:l}}else r=typeof t=="object"&&typeof l=="object"&&c(t)===c(l)?h(t,l):{type:"complete",oldValue:t,newValue:l};r!=null&&(s!=null?s.diff[o]=r:s={type:"partial",diff:{[o]:r}})}}return s}function P(e,n){if(typeof e!="function"&&typeof n!="function"&&(e!=null||n!=null))return e==null||n==null||typeof e=="object"&&typeof n=="object"&&c(e)!==c(n)?{type:"complete",oldValue:e,newValue:n}:h(e,n)}export{P as y};
