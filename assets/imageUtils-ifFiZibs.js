const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/gif-B0IZ54ko.js","assets/time-ClENgjgA.js","assets/apng-bpgkWXcA.js","assets/_commonjsHelpers-DCkdB7M8.js","assets/MapPage-BfoPTtM9.js","assets/index-aygzdjjp.js","assets/index-ChhpDj5l.css","assets/themeLevelStore-Ctx-LCCx.js","assets/MapPage-NuuMBo9V.css"])))=>i.map(i=>d[i]);
import{_ as c}from"./index-aygzdjjp.js";import{cQ as d,d9 as m,H as u,Y as p,s as w}from"./MapPage-BfoPTtM9.js";let r=null,f=!0;function v(n,e,t,a){if(!e||!t)throw new Error("Cannot construct image data without dimensions");if(f)try{return new ImageData(n,e,t)}catch{f=!1}const i=g(e,t,a);return i.data.set(n,0),i}function y(){return r||(r=document.createElement("canvas"),r.width=1,r.height=1),r}function g(n,e,t){return t||(t=y()),t.getContext("2d").createImageData(n,e)}async function _(n,e){const t=window.URL.createObjectURL(n);try{const{data:a}=await u(t,{...e,responseType:"image"});return a}catch(a){throw p(a)?a:new w("invalid-image",`Could not fetch requested image at ${t}`)}finally{window.URL.revokeObjectURL(t)}}async function E(n,e){const{arrayBuffer:t,mediaType:a}=await l(n,e),i=a==="image/png";if(a==="image/gif"){const{isAnimatedGIF:o,parseGif:s}=await c(()=>import("./gif-B0IZ54ko.js"),__vite__mapDeps([0,1]));if(o(t))return s(t,e)}if(i){const{isAnimatedPNG:o,parseApng:s}=await c(()=>import("./apng-bpgkWXcA.js"),__vite__mapDeps([2,3,4,5,6,7,8,1]));if(o(t))return s(t,e)}return _(new Blob([t],{type:a}),e)}async function l(n,e){const t=d(n);if(t?.isBase64)return{arrayBuffer:m(t.data),mediaType:t.mediaType};const a=await u(n,{responseType:"array-buffer",...e});return{arrayBuffer:a.data,mediaType:a.getHeader?.("Content-Type")??""}}export{v as c,E as p};
