<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Arras Community Indicator Tool</title>
  </head>
  <body>
    <script>
      // GitHub Pages SPA fallback that supports BOTH:
      // - /...      (main on custom domain root)
      // - /dev/...  (dev on custom domain subpath)
      //
      // Redirects missing routes to the appropriate base with a `?/` encoded path,
      // which `index.html` decodes on load.
      (function () {
        var l = window.location;
        var parts = l.pathname.split('/').filter(Boolean); // [(dev), ...rest]
        var isDev = parts[0] === 'dev';
        var keep = isDev ? 1 : 0;
        var base = isDev ? '/dev/' : '/';

        var rest = parts.slice(keep).join('/');
        var search = l.search ? '&' + l.search.slice(1) : '';
        var hash = l.hash || '';

        // Use ~and~ to avoid ambiguity with '&' separators.
        var encodedRest = rest.replace(/&/g, '~and~');
        var encodedSearch = search.replace(/&/g, '~and~');

        l.replace(base + '?/' + encodedRest + encodedSearch + hash);
      })();
    </script>
  </body>
</html>

